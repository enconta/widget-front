'use strict';

const path = require('path');
const spawn = require('react-dev-utils/crossSpawn');
const resolveBin = require('./utils/resolveBin');

const here = p => path.join(__dirname, p);
const hereRelative = p => here(p).replace(process.cwd(), '.');

const args = process.argv.slice(3);

const config = ['--config', hereRelative('../config/lintstagedrc.js')];

const lintStagedResult = spawn.sync(
  resolveBin('lint-staged'),
  [...config, ...args],
  { stdio: 'inherit' }
);

process.exit(lintStagedResult.status);
