{"ast":null,"code":"import _defineProperty from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/newInvoice/complementos/foreignTrade/entityAddressees/index.js\";\n// Libraries\nimport React from 'react';\nimport update from 'immutability-helper';\nimport uuid from 'uuid'; // Components\n\nimport Button from 'shared/button'; // Children\n\nimport EntityAddress from './entityAddress';\nvar ENTITY_ADDRESSES_KEY = 'addressees';\n\nvar EntityAddressees =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EntityAddressees, _React$Component);\n\n  function EntityAddressees(props) {\n    var _this;\n\n    _classCallCheck(this, EntityAddressees);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EntityAddressees).call(this, props));\n    _this.data = _defineProperty({}, ENTITY_ADDRESSES_KEY, []);\n    _this.state = Object.assign({}, _this.data);\n    return _this;\n  }\n\n  _createClass(EntityAddressees, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.addEntityAddress();\n    } // Create a new entityAddress and append it to state\n\n  }, {\n    key: \"addEntityAddress\",\n    value: function addEntityAddress() {\n      var entityAddress = this.state[ENTITY_ADDRESSES_KEY];\n      this.setState(_defineProperty({}, ENTITY_ADDRESSES_KEY, update(entityAddress, _defineProperty({}, entityAddress.length, {\n        $set: {\n          uuid: uuid()\n        }\n      }))));\n    } // Updates an input's value when it changes\n\n  }, {\n    key: \"onChange\",\n    value: function onChange(field, e) {\n      this.setState(_defineProperty({}, field, e.target.value));\n    }\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      var _this2 = this;\n\n      var validationArr = this.state[ENTITY_ADDRESSES_KEY].map(function (_ref) {\n        var uuid = _ref.uuid;\n        return _this2.refs[uuid].validate();\n      });\n      return validationArr.every(function (v) {\n        return v;\n      });\n    }\n  }, {\n    key: \"export\",\n    value: function _export() {\n      var _this3 = this;\n\n      return this.state[ENTITY_ADDRESSES_KEY].map(function (_ref2) {\n        var uuid = _ref2.uuid;\n        return _this3.refs[uuid].export();\n      });\n    } // Return a new array with current EntityAddresses except the one to be deleted\n\n  }, {\n    key: \"deleteEntityAddress\",\n    value: function deleteEntityAddress(uuid) {\n      this.setState(_defineProperty({}, ENTITY_ADDRESSES_KEY, this.state[ENTITY_ADDRESSES_KEY].filter(function (c) {\n        return c.uuid !== uuid;\n      })));\n    } // Renders EntityAddress components\n\n  }, {\n    key: \"renderEntityAddress\",\n    value: function renderEntityAddress() {\n      var _this4 = this;\n\n      return this.state[ENTITY_ADDRESSES_KEY].length > 0 ? this.state[ENTITY_ADDRESSES_KEY].map(function (_ref3) {\n        var uuid = _ref3.uuid;\n        return React.createElement(\"div\", {\n          className: \"new-invoice__concept\",\n          key: uuid,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, React.createElement(EntityAddress, {\n          key: uuid,\n          ref: uuid,\n          uuid: uuid,\n          deletable: _this4.state[ENTITY_ADDRESSES_KEY].length > 1,\n          deleteEntityAddress: _this4.deleteEntityAddress.bind(_this4),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }));\n      }) : null;\n    } // Renders addreesses component\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Destinatario(s)\")), this.renderEntityAddress(), React.createElement(Button, {\n        buttonStyle: \"primaryLink\",\n        icon: \"plus\",\n        onClick: this.addEntityAddress.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"Agregar destinatario\"));\n    }\n  }]);\n\n  return EntityAddressees;\n}(React.Component);\n\nexport default EntityAddressees;","map":{"version":3,"sources":["/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/newInvoice/complementos/foreignTrade/entityAddressees/index.js"],"names":["React","update","uuid","Button","EntityAddress","ENTITY_ADDRESSES_KEY","EntityAddressees","props","data","state","Object","assign","addEntityAddress","entityAddress","setState","length","$set","field","e","target","value","validationArr","map","refs","validate","every","v","export","filter","c","deleteEntityAddress","bind","renderEntityAddress","Component"],"mappings":"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","sourcesContent":["// Libraries\nimport React from 'react'\nimport update from 'immutability-helper'\nimport uuid from 'uuid'\n\n// Components\nimport Button from 'shared/button'\n\n// Children\nimport EntityAddress from './entityAddress'\n\nconst ENTITY_ADDRESSES_KEY = 'addressees'\n\nclass EntityAddressees extends React.Component {\n  constructor (props) {\n    super(props)\n    this.data = {\n      [ENTITY_ADDRESSES_KEY]: []\n    }\n    this.state = Object.assign({}, this.data)\n  }\n\n  componentDidMount () {\n    this.addEntityAddress()\n  }\n\n  // Create a new entityAddress and append it to state\n  addEntityAddress () {\n    let entityAddress = this.state[ENTITY_ADDRESSES_KEY]\n    this.setState({\n      [ENTITY_ADDRESSES_KEY]: update(entityAddress, {\n        [entityAddress.length]: { $set: { uuid: uuid() } }\n      })\n    })\n  }\n\n  // Updates an input's value when it changes\n  onChange (field, e) {\n    this.setState({\n      [field]: e.target.value\n    })\n  }\n\n  validate () {\n    const validationArr = this.state[ENTITY_ADDRESSES_KEY].map(({ uuid }) =>\n      this.refs[uuid].validate()\n    )\n    return validationArr.every(v => v)\n  }\n\n  export () {\n    return this.state[ENTITY_ADDRESSES_KEY].map(({ uuid }) =>\n      this.refs[uuid].export()\n    )\n  }\n\n  // Return a new array with current EntityAddresses except the one to be deleted\n  deleteEntityAddress (uuid) {\n    this.setState({\n      [ENTITY_ADDRESSES_KEY]: this.state[ENTITY_ADDRESSES_KEY].filter(\n        c => c.uuid !== uuid\n      )\n    })\n  }\n\n  // Renders EntityAddress components\n  renderEntityAddress () {\n    return this.state[ENTITY_ADDRESSES_KEY].length > 0\n      ? this.state[ENTITY_ADDRESSES_KEY].map(({ uuid }) => (\n        <div className='new-invoice__concept' key={uuid}>\n          <EntityAddress\n            key={uuid}\n            ref={uuid}\n            uuid={uuid}\n            deletable={this.state[ENTITY_ADDRESSES_KEY].length > 1}\n            deleteEntityAddress={this.deleteEntityAddress.bind(this)}\n          />\n        </div>\n      ))\n      : null\n  }\n\n  // Renders addreesses component\n  render () {\n    return (\n      <div>\n        <p className='content'>\n          <span className='title'>Destinatario(s)</span>\n        </p>\n        {this.renderEntityAddress()}\n        <Button\n          buttonStyle='primaryLink'\n          icon='plus'\n          onClick={this.addEntityAddress.bind(this)}\n        >\n          Agregar destinatario\n        </Button>\n      </div>\n    )\n  }\n}\n\nexport default EntityAddressees\n"]},"metadata":{},"sourceType":"module"}