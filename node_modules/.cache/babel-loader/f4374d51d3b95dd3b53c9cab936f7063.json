{"ast":null,"code":"import _classCallCheck from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport BaseStore from './baseStore';\n\nvar BankSynchronization =\n/*#__PURE__*/\nfunction (_BaseStore) {\n  _inherits(BankSynchronization, _BaseStore);\n\n  function BankSynchronization() {\n    var _this;\n\n    _classCallCheck(this, BankSynchronization);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BankSynchronization).call(this));\n    _this.current = {\n      institution: '',\n      username: '',\n      password: ''\n    };\n    _this.accounts = [];\n    _this.synchronizedAccounts = [];\n    _this.unsynchronizedAccounts = [];\n    _this.hasToIntroduceToken = false;\n    _this.widgetToken = {};\n    _this.actions = {\n      CLEAR_CURRENT_BANK: function CLEAR_CURRENT_BANK() {\n        _this.clearCurrentBank();\n      },\n      BANKS_RECEIVED: function BANKS_RECEIVED(action) {\n        _this.setBankAccounts(action.data);\n\n        _this.filterSynchronizedAccounts(action.data);\n      },\n      CLEAR_CURRENT_BANK_ACCOUNTS: function CLEAR_CURRENT_BANK_ACCOUNTS() {\n        _this.clearCurrentBankAccounts();\n      },\n      TOKEN_DEFEATED: function TOKEN_DEFEATED(action) {\n        _this.setTokenInfo();\n      },\n      WIDGET_TOKEN_RECEIVED: function WIDGET_TOKEN_RECEIVED(action) {\n        _this.setWidgetToken(action.data.token);\n      }\n    };\n    return _this;\n  }\n\n  _createClass(BankSynchronization, [{\n    key: \"getCurrent\",\n    value: function getCurrent() {\n      return this.current;\n    }\n  }, {\n    key: \"setBankAccounts\",\n    value: function setBankAccounts(data) {\n      this.accounts = data.accounts;\n    }\n  }, {\n    key: \"filterSynchronizedAccounts\",\n    value: function filterSynchronizedAccounts(_ref) {\n      var _this2 = this;\n\n      var accounts = _ref.accounts;\n      accounts.forEach(function (account) {\n        if (account.synchronized) {\n          _this2.synchronizedAccounts.push(account);\n        } else {\n          _this2.unsynchronizedAccounts.push(account);\n        }\n      });\n    }\n  }, {\n    key: \"getSynchronizedAccounts\",\n    value: function getSynchronizedAccounts() {\n      return this.synchronizedAccounts;\n    }\n  }, {\n    key: \"getUnsynchronizedAccounts\",\n    value: function getUnsynchronizedAccounts() {\n      return this.unsynchronizedAccounts;\n    }\n  }, {\n    key: \"getAccounts\",\n    value: function getAccounts() {\n      return this.accounts;\n    }\n  }, {\n    key: \"getInfoToken\",\n    value: function getInfoToken() {\n      return this.hasToIntroduceToken;\n    }\n  }, {\n    key: \"getWidgetToken\",\n    value: function getWidgetToken() {\n      return this.widgetToken;\n    }\n  }, {\n    key: \"setTokenInfo\",\n    value: function setTokenInfo() {\n      this.hasToIntroduceToken = true;\n    }\n  }, {\n    key: \"setWidgetToken\",\n    value: function setWidgetToken(_ref2) {\n      var access = _ref2.access;\n      this.widgetToken = access;\n    }\n  }, {\n    key: \"setCurrent\",\n    value: function setCurrent() {\n      this.current = this.current;\n    }\n  }, {\n    key: \"clearCurrentBank\",\n    value: function clearCurrentBank() {\n      this.current = {\n        institution: '',\n        username: '',\n        password: ''\n      };\n    }\n  }, {\n    key: \"clearCurrentBankAccounts\",\n    value: function clearCurrentBankAccounts() {\n      this.accounts = [];\n      this.synchronizedAccounts = [];\n      this.unsynchronizedAccounts = [];\n    }\n  }]);\n\n  return BankSynchronization;\n}(BaseStore);\n\nexport default BankSynchronization.getInstance();","map":{"version":3,"sources":["/Users/usuario-rtd/Desktop/widget-front/src/stores/smartsync.js"],"names":["BaseStore","BankSynchronization","current","institution","username","password","accounts","synchronizedAccounts","unsynchronizedAccounts","hasToIntroduceToken","widgetToken","actions","CLEAR_CURRENT_BANK","clearCurrentBank","BANKS_RECEIVED","action","setBankAccounts","data","filterSynchronizedAccounts","CLEAR_CURRENT_BANK_ACCOUNTS","clearCurrentBankAccounts","TOKEN_DEFEATED","setTokenInfo","WIDGET_TOKEN_RECEIVED","setWidgetToken","token","forEach","account","synchronized","push","access","getInstance"],"mappings":";;;;;AAAA,OAAOA,SAAP,MAAsB,aAAtB;;IAEMC,mB;;;;;AACJ,iCAAe;AAAA;;AAAA;;AACb;AACA,UAAKC,OAAL,GAAe;AACbC,MAAAA,WAAW,EAAE,EADA;AAEbC,MAAAA,QAAQ,EAAE,EAFG;AAGbC,MAAAA,QAAQ,EAAE;AAHG,KAAf;AAMA,UAAKC,QAAL,GAAgB,EAAhB;AACA,UAAKC,oBAAL,GAA4B,EAA5B;AACA,UAAKC,sBAAL,GAA8B,EAA9B;AACA,UAAKC,mBAAL,GAA2B,KAA3B;AACA,UAAKC,WAAL,GAAmB,EAAnB;AACA,UAAKC,OAAL,GAAe;AACbC,MAAAA,kBAAkB,EAAE,8BAAM;AACxB,cAAKC,gBAAL;AACD,OAHY;AAIbC,MAAAA,cAAc,EAAE,wBAAAC,MAAM,EAAI;AACxB,cAAKC,eAAL,CAAqBD,MAAM,CAACE,IAA5B;;AACA,cAAKC,0BAAL,CAAgCH,MAAM,CAACE,IAAvC;AACD,OAPY;AAQbE,MAAAA,2BAA2B,EAAE,uCAAM;AACjC,cAAKC,wBAAL;AACD,OAVY;AAWbC,MAAAA,cAAc,EAAE,wBAAAN,MAAM,EAAI;AACxB,cAAKO,YAAL;AACD,OAbY;AAcbC,MAAAA,qBAAqB,EAAE,+BAAAR,MAAM,EAAI;AAC/B,cAAKS,cAAL,CAAoBT,MAAM,CAACE,IAAP,CAAYQ,KAAhC;AACD;AAhBY,KAAf;AAba;AA+Bd;;;;iCAEa;AACZ,aAAO,KAAKvB,OAAZ;AACD;;;oCAEgBe,I,EAAM;AACrB,WAAKX,QAAL,GAAgBW,IAAI,CAACX,QAArB;AACD;;;qDAEyC;AAAA;;AAAA,UAAZA,QAAY,QAAZA,QAAY;AACxCA,MAAAA,QAAQ,CAACoB,OAAT,CAAiB,UAAAC,OAAO,EAAI;AAC1B,YAAIA,OAAO,CAACC,YAAZ,EAA0B;AACxB,UAAA,MAAI,CAACrB,oBAAL,CAA0BsB,IAA1B,CAA+BF,OAA/B;AACD,SAFD,MAEO;AACL,UAAA,MAAI,CAACnB,sBAAL,CAA4BqB,IAA5B,CAAiCF,OAAjC;AACD;AACF,OAND;AAOD;;;8CAE0B;AACzB,aAAO,KAAKpB,oBAAZ;AACD;;;gDAE4B;AAC3B,aAAO,KAAKC,sBAAZ;AACD;;;kCAEc;AACb,aAAO,KAAKF,QAAZ;AACD;;;mCAEe;AACd,aAAO,KAAKG,mBAAZ;AACD;;;qCAEiB;AAChB,aAAO,KAAKC,WAAZ;AACD;;;mCAEe;AACd,WAAKD,mBAAL,GAA2B,IAA3B;AACD;;;0CAE2B;AAAA,UAAVqB,MAAU,SAAVA,MAAU;AAC1B,WAAKpB,WAAL,GAAmBoB,MAAnB;AACD;;;iCAEa;AACZ,WAAK5B,OAAL,GAAe,KAAKA,OAApB;AACD;;;uCAEmB;AAClB,WAAKA,OAAL,GAAe;AACbC,QAAAA,WAAW,EAAE,EADA;AAEbC,QAAAA,QAAQ,EAAE,EAFG;AAGbC,QAAAA,QAAQ,EAAE;AAHG,OAAf;AAKD;;;+CAC2B;AAC1B,WAAKC,QAAL,GAAgB,EAAhB;AACA,WAAKC,oBAAL,GAA4B,EAA5B;AACA,WAAKC,sBAAL,GAA8B,EAA9B;AACD;;;;EA/F+BR,S;;AAkGlC,eAAeC,mBAAmB,CAAC8B,WAApB,EAAf","sourcesContent":["import BaseStore from './baseStore'\n\nclass BankSynchronization extends BaseStore {\n  constructor () {\n    super()\n    this.current = {\n      institution: '',\n      username: '',\n      password: ''\n    }\n\n    this.accounts = []\n    this.synchronizedAccounts = []\n    this.unsynchronizedAccounts = []\n    this.hasToIntroduceToken = false\n    this.widgetToken = {}\n    this.actions = {\n      CLEAR_CURRENT_BANK: () => {\n        this.clearCurrentBank()\n      },\n      BANKS_RECEIVED: action => {\n        this.setBankAccounts(action.data)\n        this.filterSynchronizedAccounts(action.data)\n      },\n      CLEAR_CURRENT_BANK_ACCOUNTS: () => {\n        this.clearCurrentBankAccounts()\n      },\n      TOKEN_DEFEATED: action => {\n        this.setTokenInfo()\n      },\n      WIDGET_TOKEN_RECEIVED: action => {\n        this.setWidgetToken(action.data.token)\n      }\n    }\n  }\n\n  getCurrent () {\n    return this.current\n  }\n\n  setBankAccounts (data) {\n    this.accounts = data.accounts\n  }\n\n  filterSynchronizedAccounts ({ accounts }) {\n    accounts.forEach(account => {\n      if (account.synchronized) {\n        this.synchronizedAccounts.push(account)\n      } else {\n        this.unsynchronizedAccounts.push(account)\n      }\n    })\n  }\n\n  getSynchronizedAccounts () {\n    return this.synchronizedAccounts\n  }\n\n  getUnsynchronizedAccounts () {\n    return this.unsynchronizedAccounts\n  }\n\n  getAccounts () {\n    return this.accounts\n  }\n\n  getInfoToken () {\n    return this.hasToIntroduceToken\n  }\n\n  getWidgetToken () {\n    return this.widgetToken\n  }\n\n  setTokenInfo () {\n    this.hasToIntroduceToken = true\n  }\n\n  setWidgetToken ({ access }) {\n    this.widgetToken = access\n  }\n\n  setCurrent () {\n    this.current = this.current\n  }\n\n  clearCurrentBank () {\n    this.current = {\n      institution: '',\n      username: '',\n      password: ''\n    }\n  }\n  clearCurrentBankAccounts () {\n    this.accounts = []\n    this.synchronizedAccounts = []\n    this.unsynchronizedAccounts = []\n  }\n}\n\nexport default BankSynchronization.getInstance()\n"]},"metadata":{},"sourceType":"module"}