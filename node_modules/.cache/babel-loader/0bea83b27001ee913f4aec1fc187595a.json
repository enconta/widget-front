{"ast":null,"code":"import _objectSpread from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/usuario-rtd/Desktop/widget-front/src/components/app/shared/credentials/components/CiecCard.js\";\nimport React, { PureComponent } from 'react';\nimport classNames from 'classnames';\nimport TextField from 'shared/textField';\nimport Button from 'shared/button';\nimport NotificationsActions from 'actions/notifications';\nimport SatCredentialsActions from 'actions/satCredentials';\nvar defaultState = {\n  requestInProgress: false,\n  ciec: ''\n};\n\nvar CiecCard =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(CiecCard, _PureComponent);\n\n  function CiecCard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CiecCard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CiecCard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = _objectSpread({}, defaultState);\n\n    _this.onChangeCiecPassword = function (e) {\n      _this.setState({\n        ciec: e.currentTarget.value\n      });\n    };\n\n    _this.uploadCiec = function (e) {\n      e.preventDefault();\n      var _this$state = _this.state,\n          ciec = _this$state.ciec,\n          requestInProgress = _this$state.requestInProgress;\n\n      if (ciec.length > 0 && !requestInProgress) {\n        _this.setState({\n          requestInProgress: true\n        }, function () {\n          SatCredentialsActions.updateSatCredentials({\n            taxable_entity: {\n              sat_password: ciec\n            }\n          }).then(function () {\n            NotificationsActions.success('Contraseña CIEC guardada correctamente');\n\n            _this.setState({\n              requestInProgress: false\n            });\n\n            SatCredentialsActions.getCredentialsStatus();\n          }).catch(function (error) {\n            NotificationsActions.error(error);\n\n            _this.setState({\n              requestInProgress: false\n            });\n          });\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(CiecCard, [{\n    key: \"render\",\n    value: function render() {\n      var isShowedFiel = this.props.isShowedFiel;\n      return React.createElement(\"div\", {\n        className: \"credentials__ciec\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"columns is-multiline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classNames('column is-4 flex-center', {\n          'is-4': !isShowedFiel,\n          'is-12': isShowedFiel\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"Ingresa tu CIEC\",\n        src: \"/img/fiel_sign.svg\",\n        width: \"180px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: classNames('column section', {\n          'is-7': !isShowedFiel,\n          'is-12': isShowedFiel\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"headline--dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Ingresa tu Clave de Identificaci\\xF3n Electr\\xF3nica Confidencial(CIEC)\"), React.createElement(\"div\", {\n        className: \"margin-v-24\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        type: \"password\",\n        onChange: this.onChangeCiecPassword,\n        className: \"input\",\n        value: this.state.ciec,\n        label: \"Contrase\\xF1a CIEC\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"flex-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Button, {\n        loading: this.state.requestInProgress,\n        onClick: this.uploadCiec,\n        buttonStyle: \"primary\",\n        icon: \"content-save\",\n        disabled: !this.state.ciec,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Guardar CIEC\")))));\n    }\n  }]);\n\n  return CiecCard;\n}(PureComponent);\n\nexport default CiecCard;","map":{"version":3,"sources":["/Users/usuario-rtd/Desktop/widget-front/src/components/app/shared/credentials/components/CiecCard.js"],"names":["React","PureComponent","classNames","TextField","Button","NotificationsActions","SatCredentialsActions","defaultState","requestInProgress","ciec","CiecCard","state","onChangeCiecPassword","e","setState","currentTarget","value","uploadCiec","preventDefault","length","updateSatCredentials","taxable_entity","sat_password","then","success","getCredentialsStatus","catch","error","isShowedFiel","props"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react'\nimport classNames from 'classnames'\nimport TextField from 'shared/textField'\nimport Button from 'shared/button'\n\nimport NotificationsActions from 'actions/notifications'\nimport SatCredentialsActions from 'actions/satCredentials'\n\nconst defaultState = {\n  requestInProgress: false,\n  ciec: ''\n}\n\nclass CiecCard extends PureComponent {\n  state = {\n    ...defaultState\n  }\n\n  onChangeCiecPassword = e => {\n    this.setState({ ciec: e.currentTarget.value })\n  }\n\n  uploadCiec = e => {\n    e.preventDefault()\n\n    const { ciec, requestInProgress } = this.state\n\n    if (ciec.length > 0 && !requestInProgress) {\n      this.setState({ requestInProgress: true }, () => {\n        SatCredentialsActions.updateSatCredentials({\n          taxable_entity: {\n            sat_password: ciec\n          }\n        })\n          .then(() => {\n            NotificationsActions.success(\n              'Contraseña CIEC guardada correctamente'\n            )\n            this.setState({ requestInProgress: false })\n            SatCredentialsActions.getCredentialsStatus()\n          })\n          .catch(error => {\n            NotificationsActions.error(error)\n            this.setState({ requestInProgress: false })\n          })\n      })\n    }\n  }\n\n  render () {\n    const { isShowedFiel } = this.props\n    return (\n      <div className='credentials__ciec'>\n        <section className='columns is-multiline'>\n          <div\n            className={classNames('column is-4 flex-center', {\n              'is-4': !isShowedFiel,\n              'is-12': isShowedFiel\n            })}\n          >\n            <img alt='Ingresa tu CIEC' src='/img/fiel_sign.svg' width='180px' />\n          </div>\n          <div\n            className={classNames('column section', {\n              'is-7': !isShowedFiel,\n              'is-12': isShowedFiel\n            })}\n          >\n            <h2 className='headline--dark'>\n              Ingresa tu Clave de Identificación Electrónica Confidencial(CIEC)\n            </h2>\n\n            <div className='margin-v-24'>\n              <TextField\n                type='password'\n                onChange={this.onChangeCiecPassword}\n                className='input'\n                value={this.state.ciec}\n                label='Contraseña CIEC'\n              />\n            </div>\n\n            <div className='flex-center'>\n              <Button\n                loading={this.state.requestInProgress}\n                onClick={this.uploadCiec}\n                buttonStyle='primary'\n                icon='content-save'\n                disabled={!this.state.ciec}\n              >\n                Guardar CIEC\n              </Button>\n            </div>\n          </div>\n        </section>\n      </div>\n    )\n  }\n}\n\nexport default CiecCard\n"]},"metadata":{},"sourceType":"module"}