{"ast":null,"code":"import _regeneratorRuntime from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/usuario-rtd/Desktop/widget-front/src/components/app/shared/appWideNotification/button.js\";\nimport React, { PureComponent } from 'react';\nimport { Link } from 'react-router';\nimport ReactGa from 'react-ga';\nimport { createGaEvent } from 'utils';\nimport API from 'api';\n\nvar ChatButton =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(ChatButton, _PureComponent);\n\n  function ChatButton() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ChatButton);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ChatButton)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      accountingPeriod: null\n    };\n\n    _this.trackClick = function () {\n      ReactGa.event(createGaEvent('Chat Contador', 'click on button'));\n    };\n\n    _this.getAccountingPeriodsList =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var _ref2, accountingPeriods;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return API.AccountingPeriods.List();\n\n            case 2:\n              _ref2 = _context.sent;\n              accountingPeriods = _ref2.accounting_periods;\n\n              if (accountingPeriods.length > 0) {\n                _this.setState({\n                  accountingPeriod: accountingPeriods[0]\n                });\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _this;\n  }\n\n  _createClass(ChatButton, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getAccountingPeriodsList();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var link = '';\n      var accountingPeriod = this.state.accountingPeriod;\n\n      if (accountingPeriod) {\n        var id = accountingPeriod.id;\n        link = \"/mi-contabilidad/\".concat(id, \"/ver\");\n      }\n\n      return React.createElement(Link, {\n        to: link,\n        className: \"accountant-chat\",\n        onClick: this.trackClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"mdi mdi-face-agent accountant-chat__icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"accountant-chat__text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"Chat Contador\"));\n    }\n  }]);\n\n  return ChatButton;\n}(PureComponent);\n\nexport default ChatButton;","map":{"version":3,"sources":["/Users/usuario-rtd/Desktop/widget-front/src/components/app/shared/appWideNotification/button.js"],"names":["React","PureComponent","Link","ReactGa","createGaEvent","API","ChatButton","state","accountingPeriod","trackClick","event","getAccountingPeriodsList","AccountingPeriods","List","accountingPeriods","accounting_periods","length","setState","link","id"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,OAAOC,OAAP,MAAoB,UAApB;AACA,SAASC,aAAT,QAA8B,OAA9B;AACA,OAAOC,GAAP,MAAgB,KAAhB;;IAEMC,U;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,gBAAgB,EAAE;AADZ,K;;UAQRC,U,GAAa,YAAM;AACjBN,MAAAA,OAAO,CAACO,KAAR,CAAcN,aAAa,CAAC,eAAD,EAAkB,iBAAlB,CAA3B;AACD,K;;UAEDO,wB;;;;6BAA2B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAGfN,GAAG,CAACO,iBAAJ,CAAsBC,IAAtB,EAHe;;AAAA;AAAA;AAEHC,cAAAA,iBAFG,SAEvBC,kBAFuB;;AAKzB,kBAAID,iBAAiB,CAACE,MAAlB,GAA2B,CAA/B,EAAkC;AAChC,sBAAKC,QAAL,CAAc;AAAET,kBAAAA,gBAAgB,EAAEM,iBAAiB,CAAC,CAAD;AAArC,iBAAd;AACD;;AAPwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;wCARN;AACnB,WAAKH,wBAAL;AACD;;;6BAgBS;AACR,UAAIO,IAAI,GAAG,EAAX;AADQ,UAEAV,gBAFA,GAEqB,KAAKD,KAF1B,CAEAC,gBAFA;;AAGR,UAAIA,gBAAJ,EAAsB;AAAA,YACZW,EADY,GACLX,gBADK,CACZW,EADY;AAEpBD,QAAAA,IAAI,8BAAuBC,EAAvB,SAAJ;AACD;;AACD,aACE,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAED,IAAV;AAAgB,QAAA,SAAS,EAAC,iBAA1B;AAA4C,QAAA,OAAO,EAAE,KAAKT,UAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,SAAS,EAAC,0CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAG,QAAA,SAAS,EAAC,uBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAFF,CADF;AAMD;;;;EApCsBR,a;;AAuCzB,eAAeK,UAAf","sourcesContent":["import React, { PureComponent } from 'react'\nimport { Link } from 'react-router'\nimport ReactGa from 'react-ga'\nimport { createGaEvent } from 'utils'\nimport API from 'api'\n\nclass ChatButton extends PureComponent {\n  state = {\n    accountingPeriod: null\n  }\n\n  componentDidMount () {\n    this.getAccountingPeriodsList()\n  }\n\n  trackClick = () => {\n    ReactGa.event(createGaEvent('Chat Contador', 'click on button'))\n  }\n\n  getAccountingPeriodsList = async () => {\n    const {\n      accounting_periods: accountingPeriods\n    } = await API.AccountingPeriods.List()\n\n    if (accountingPeriods.length > 0) {\n      this.setState({ accountingPeriod: accountingPeriods[0] })\n    }\n  }\n\n  render () {\n    let link = ''\n    const { accountingPeriod } = this.state\n    if (accountingPeriod) {\n      const { id } = accountingPeriod\n      link = `/mi-contabilidad/${id}/ver`\n    }\n    return (\n      <Link to={link} className='accountant-chat' onClick={this.trackClick}>\n        <i className='mdi mdi-face-agent accountant-chat__icon' />\n        <p className='accountant-chat__text'>Chat Contador</p>\n      </Link>\n    )\n  }\n}\n\nexport default ChatButton\n"]},"metadata":{},"sourceType":"module"}