{"ast":null,"code":"import _toConsumableArray from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/editUser/index.js\";\nimport React, { Component, Fragment } from 'react';\nimport Card from 'shared/card';\nimport DocumentTitle from 'react-document-title';\nimport SessionStore from 'stores/session';\nimport SessionAction from 'actions/session';\n\nfunction getCurrentState() {\n  return {\n    currentEntity: SessionStore.getCurrentEntity(),\n    currentUser: SessionStore.getUser()\n  };\n}\n\nvar MyACcount =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MyACcount, _Component);\n\n  function MyACcount() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MyACcount);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MyACcount)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = _objectSpread({}, getCurrentState(), {\n      optionTabs: []\n    });\n\n    _this._onChange = function () {\n      _this.setState(getCurrentState());\n    };\n\n    _this.loadTabs = function () {\n      var optionTabs = _toConsumableArray(_this.state.optionTabs);\n\n      var currentEntity = _this.state.currentEntity;\n      var role = _this.state.currentUser.role;\n      var allowedUsers = ['admin', 'customer_service', 'lead_customer_service', 'account_holder'];\n\n      if (currentEntity.conekta && allowedUsers.includes(role)) {\n        optionTabs = [{\n          id: 'general',\n          label: 'General'\n        }, {\n          id: 'notificaciones',\n          label: 'Notificaciones'\n        }, {\n          id: 'suscripcion',\n          label: 'Suscripción'\n        }];\n      } else {\n        optionTabs = [{\n          id: 'general',\n          label: 'General'\n        }, {\n          id: 'notificaciones',\n          label: 'Notificaciones'\n        }];\n      }\n\n      _this.setState({\n        optionTabs: optionTabs\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(MyACcount, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // Adds listener, when the Store changes, trigger the _onChange callback func\n      SessionStore.addChangeListener(this._onChange);\n      SessionAction.changeCurrentEntity({\n        id: this.state.currentEntity.id\n      }).then(function () {\n        _this2.loadTabs();\n      });\n    } // Removes the listener to avoid memory leaks\n\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      SessionStore.removeChangeListener(this._onChange);\n    }\n  }, {\n    key: \"render\",\n    // Main render\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          location = _this$props.location;\n      var optionTabs = this.state.optionTabs;\n      var title = children.props.route.title;\n      var activeTab = location.pathname.split('/')[2];\n      return React.createElement(DocumentTitle, {\n        title: title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"headline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Mi Cuenta\"), React.createElement(Card, {\n        title: optionTabs,\n        activeTab: activeTab,\n        className: \"card-container--relative card-body\",\n        baseUrl: \"/mi-cuenta\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"is-fullwidth\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, children))));\n    }\n  }]);\n\n  return MyACcount;\n}(Component);\n\nexport { MyACcount as default };","map":{"version":3,"sources":["/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/editUser/index.js"],"names":["React","Component","Fragment","Card","DocumentTitle","SessionStore","SessionAction","getCurrentState","currentEntity","getCurrentEntity","currentUser","getUser","MyACcount","state","optionTabs","_onChange","setState","loadTabs","role","allowedUsers","conekta","includes","id","label","addChangeListener","changeCurrentEntity","then","removeChangeListener","props","children","location","title","route","activeTab","pathname","split"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\nimport Card from 'shared/card'\nimport DocumentTitle from 'react-document-title'\nimport SessionStore from 'stores/session'\n\nimport SessionAction from 'actions/session'\n\nfunction getCurrentState () {\n  return {\n    currentEntity: SessionStore.getCurrentEntity(),\n    currentUser: SessionStore.getUser()\n  }\n}\n\nexport default class MyACcount extends Component {\n  state = { ...getCurrentState(), optionTabs: [] }\n  componentDidMount () {\n    // Adds listener, when the Store changes, trigger the _onChange callback func\n    SessionStore.addChangeListener(this._onChange)\n    SessionAction.changeCurrentEntity({ id: this.state.currentEntity.id }).then(\n      () => {\n        this.loadTabs()\n      }\n    )\n  }\n\n  // Removes the listener to avoid memory leaks\n  componentWillUnmount () {\n    SessionStore.removeChangeListener(this._onChange)\n  }\n\n  _onChange = () => {\n    this.setState(getCurrentState())\n  }\n\n  loadTabs = () => {\n    let optionTabs = [...this.state.optionTabs]\n    const { currentEntity } = this.state\n    const { role } = this.state.currentUser\n    const allowedUsers = [\n      'admin',\n      'customer_service',\n      'lead_customer_service',\n      'account_holder'\n    ]\n    if (currentEntity.conekta && allowedUsers.includes(role)) {\n      optionTabs = [\n        { id: 'general', label: 'General' },\n        { id: 'notificaciones', label: 'Notificaciones' },\n        { id: 'suscripcion', label: 'Suscripción' }\n      ]\n    } else {\n      optionTabs = [\n        { id: 'general', label: 'General' },\n        { id: 'notificaciones', label: 'Notificaciones' }\n      ]\n    }\n\n    this.setState({ optionTabs: optionTabs })\n  }\n\n  // Main render\n  render () {\n    const { children, location } = this.props\n    const { optionTabs } = this.state\n    const { title } = children.props.route\n    const activeTab = location.pathname.split('/')[2]\n\n    return (\n      <DocumentTitle title={title}>\n        <Fragment>\n          <h1 className='headline'>Mi Cuenta</h1>\n          <Card\n            title={optionTabs}\n            activeTab={activeTab}\n            className='card-container--relative card-body'\n            baseUrl='/mi-cuenta'\n          >\n            <div className='is-fullwidth'>{children}</div>\n          </Card>\n        </Fragment>\n      </DocumentTitle>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}