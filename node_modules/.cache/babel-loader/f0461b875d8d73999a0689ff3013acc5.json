{"ast":null,"code":"import _objectSpread from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/usuario-rtd/Desktop/widget-front/src/components/accountDisabled/index.js\";\n// Libraries\nimport React, { Component } from 'react';\nimport Button from 'shared/button';\nimport { browserHistory } from 'react-router';\nimport { formatCurrency } from 'utils';\nimport AlertPaymentDenied from './alert'; // Components\n\nimport IconButton from 'shared/iconButton'; // Actions\n\nimport SuscriptionActions from 'actions/suscription'; // Stores\n\nimport SuscriptionStore from 'stores/suscription';\n\nfunction getCurrentState() {\n  return {\n    paymentLog: SuscriptionStore.getPendingPayments(),\n    totalAmount: SuscriptionStore.getSumServices()\n  };\n}\n\nvar AccountDisable =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AccountDisable, _Component);\n\n  function AccountDisable(props) {\n    var _this;\n\n    _classCallCheck(this, AccountDisable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AccountDisable).call(this, props));\n\n    _this._onChange = function () {\n      _this.setState(getCurrentState());\n    };\n\n    _this.returnToListing = function () {\n      browserHistory.push('/plataforma-bloqueada/realizar-pago');\n    };\n\n    _this.state = _objectSpread({\n      paymentAproved: false\n    }, getCurrentState());\n    return _this;\n  }\n\n  _createClass(AccountDisable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // Adds listener, when the Store changes, trigger the _onChange callback func\n      SuscriptionStore.addChangeListener(this._onChange);\n      SuscriptionActions.getPendingPayments();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      SuscriptionStore.removeChangeListener(this._onChange);\n    } // When the store changes, the state goes to it and pulls the updated data\n    // then sets it so the component renders\n\n  }, {\n    key: \"renderTableUserBlockedBody\",\n    // body table\n    value: function renderTableUserBlockedBody() {\n      var paymentLog = this.state.paymentLog;\n\n      if (paymentLog.length > 0) {\n        var rows = paymentLog.map(function (data) {\n          return React.createElement(\"tr\", {\n            key: data.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61\n            },\n            __self: this\n          }, React.createElement(IconButton, {\n            icon: \"close-octagon\",\n            tooltip: \"Pago no efectuado\",\n            className: \"aligned--icon\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }), data.description), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69\n            },\n            __self: this\n          }, data.period), React.createElement(\"td\", {\n            className: \"has-text-right\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70\n            },\n            __self: this\n          }, formatCurrency(data.total)));\n        });\n        return React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, rows);\n      }\n    } // render the complete table\n\n  }, {\n    key: \"renderTableAccountDisable\",\n    value: function renderTableAccountDisable() {\n      var table = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"columns is-centered\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"column is-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"paytable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Servicios sin pagar\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Periodo\"), React.createElement(\"th\", {\n        className: \"has-text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Monto\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }))), this.renderTableUserBlockedBody()))));\n      return table;\n    } // Renders the main view\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var totalAmount = this.state.totalAmount;\n      var paymentAproved = this.state.paymentAproved;\n      return React.createElement(\"div\", {\n        className: \"columns is-centered\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"column is-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, paymentAproved && React.createElement(AlertPaymentDenied, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        className: \"headline--style is-uppercase has-text-centered \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"No hemos recibido tu pago\"), React.createElement(\"p\", {\n        className: \"has-text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Tu plataforma ha sido bloqueada debido a que presentas un atraso en tu pago equivalente o mayor a 2 meses de servicio. Te recomendamos realizar tu pago lo antes posible.\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), this.renderTableAccountDisable(), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \" has-text-right text-style\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, formatCurrency(totalAmount), React.createElement(\"p\", {\n        className: \"has-text-right paragraph-info--iva\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"IVA incluido\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"column has-text-centered\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(Button, {\n        buttonStyle: \"primary-invert\",\n        type: \"submit\",\n        onClick: this.returnToListing,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"realizar pago en l\\xEDnea\")), React.createElement(\"p\", {\n        className: \"caption caption-margin has-text-centered\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, ' ', \"Para dudas o aclaraciones comun\\xEDcate con nosotros al 800 9531 299.\")));\n    }\n  }]);\n\n  return AccountDisable;\n}(Component);\n\nexport default AccountDisable;","map":{"version":3,"sources":["/Users/usuario-rtd/Desktop/widget-front/src/components/accountDisabled/index.js"],"names":["React","Component","Button","browserHistory","formatCurrency","AlertPaymentDenied","IconButton","SuscriptionActions","SuscriptionStore","getCurrentState","paymentLog","getPendingPayments","totalAmount","getSumServices","AccountDisable","props","_onChange","setState","returnToListing","push","state","paymentAproved","addChangeListener","removeChangeListener","length","rows","map","data","id","description","period","total","table","renderTableUserBlockedBody","renderTableAccountDisable"],"mappings":"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","sourcesContent":["// Libraries\nimport React, { Component } from 'react'\nimport Button from 'shared/button'\nimport { browserHistory } from 'react-router'\nimport { formatCurrency } from 'utils'\nimport AlertPaymentDenied from './alert'\n\n// Components\nimport IconButton from 'shared/iconButton'\n\n// Actions\nimport SuscriptionActions from 'actions/suscription'\n\n// Stores\nimport SuscriptionStore from 'stores/suscription'\n\nfunction getCurrentState () {\n  return {\n    paymentLog: SuscriptionStore.getPendingPayments(),\n    totalAmount: SuscriptionStore.getSumServices()\n  }\n}\n\nclass AccountDisable extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      paymentAproved: false,\n      ...getCurrentState()\n    }\n  }\n\n  componentDidMount () {\n    // Adds listener, when the Store changes, trigger the _onChange callback func\n    SuscriptionStore.addChangeListener(this._onChange)\n    SuscriptionActions.getPendingPayments()\n  }\n\n  componentWillUnmount () {\n    SuscriptionStore.removeChangeListener(this._onChange)\n  }\n\n  // When the store changes, the state goes to it and pulls the updated data\n  // then sets it so the component renders\n  _onChange = () => {\n    this.setState(getCurrentState())\n  }\n\n  // take user to make his payment\n  returnToListing = () => {\n    browserHistory.push('/plataforma-bloqueada/realizar-pago')\n  }\n\n  // body table\n  renderTableUserBlockedBody () {\n    let { paymentLog } = this.state\n    if (paymentLog.length > 0) {\n      const rows = paymentLog.map(data => {\n        return (\n          <tr key={data.id}>\n            <td>\n              <IconButton\n                icon='close-octagon'\n                tooltip='Pago no efectuado'\n                className='aligned--icon'\n              />\n              {data.description}\n            </td>\n            <td>{data.period}</td>\n            <td className='has-text-right'>{formatCurrency(data.total)}</td>\n          </tr>\n        )\n      })\n      return <tbody>{rows}</tbody>\n    }\n  }\n\n  // render the complete table\n  renderTableAccountDisable () {\n    const table = (\n      <div>\n        <div className='columns is-centered'>\n          <div className='column is-9'>\n            <table className='paytable'>\n              <thead>\n                <tr>\n                  <th>Servicios sin pagar</th>\n                  <th>Periodo</th>\n                  <th className='has-text-right'>Monto</th>\n                  <th />\n                </tr>\n              </thead>\n              {this.renderTableUserBlockedBody()}\n            </table>\n          </div>\n        </div>\n      </div>\n    )\n    return table\n  }\n\n  // Renders the main view\n  render () {\n    const { totalAmount } = this.state\n\n    const { paymentAproved } = this.state\n    return (\n      <div className='columns is-centered'>\n        <div className='column is-9'>\n          {paymentAproved && <AlertPaymentDenied />}\n          <h1 className='headline--style is-uppercase has-text-centered '>\n            No hemos recibido tu pago\n          </h1>\n          <p className='has-text-left'>\n            Tu plataforma ha sido bloqueada debido a que presentas un atraso en\n            tu pago equivalente o mayor a 2 meses de servicio. Te recomendamos\n            realizar tu pago lo antes posible.\n          </p>\n          <br />\n          {this.renderTableAccountDisable()}\n          <hr />\n          <div className=' has-text-right text-style'>\n            {formatCurrency(totalAmount)}\n            <p className='has-text-right paragraph-info--iva'>IVA incluido</p>\n          </div>\n          <br />\n          <div className='column has-text-centered'>\n            <Button\n              buttonStyle='primary-invert'\n              type='submit'\n              onClick={this.returnToListing}\n            >\n              realizar pago en línea\n            </Button>\n          </div>\n          <p className='caption caption-margin has-text-centered'>\n            {' '}\n            Para dudas o aclaraciones comunícate con nosotros al 800 9531 299.\n          </p>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default AccountDisable\n"]},"metadata":{},"sourceType":"module"}