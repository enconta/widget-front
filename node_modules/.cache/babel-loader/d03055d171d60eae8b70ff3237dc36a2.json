{"ast":null,"code":"import _defineProperty from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/newInvoice/complementos/foreignTrade/entityAddressees/entityAddress/addresses/index.js\";\n// Libraries\nimport React from 'react';\nimport update from 'immutability-helper';\nimport uuid from 'uuid'; // Components\n\nimport Button from 'shared/button'; // Children\n\nimport Address from './../../../address';\nvar ADDRESS_KEY = 'address';\n\nvar Addresses =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Addresses, _React$Component);\n\n  function Addresses(props) {\n    var _this;\n\n    _classCallCheck(this, Addresses);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Addresses).call(this, props));\n    _this.data = _defineProperty({}, ADDRESS_KEY, []);\n    _this.state = Object.assign({}, _this.data);\n    return _this;\n  }\n\n  _createClass(Addresses, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.addAddress();\n    }\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      var _this2 = this;\n\n      return this.state[ADDRESS_KEY].map(function (address) {\n        return _this2.refs[address.uuid].validate();\n      }).every(function (e) {\n        return e;\n      });\n    } // Exports Addresses object\n\n  }, {\n    key: \"export\",\n    value: function _export() {\n      var _this3 = this;\n\n      return Object.assign({}, this.state[ADDRESS_KEY].map(function (_ref) {\n        var uuid = _ref.uuid;\n        return _this3.refs[uuid].export();\n      }));\n    } // Create a new address and append it to state\n\n  }, {\n    key: \"addAddress\",\n    value: function addAddress() {\n      var address = this.state[ADDRESS_KEY];\n      this.setState(_defineProperty({}, ADDRESS_KEY, update(address, _defineProperty({}, address.length, {\n        $set: {\n          uuid: uuid()\n        }\n      }))));\n    } // Return a new array with current addresses except the one to be deleted\n\n  }, {\n    key: \"deleteAddress\",\n    value: function deleteAddress(uuid) {\n      this.setState(_defineProperty({}, ADDRESS_KEY, this.state[ADDRESS_KEY].filter(function (c) {\n        return c.uuid !== uuid;\n      })));\n    } // Renders Address components\n\n  }, {\n    key: \"renderAddresses\",\n    value: function renderAddresses() {\n      var _this4 = this;\n\n      return this.state[ADDRESS_KEY].length > 0 && this.state[ADDRESS_KEY].map(function (_ref2) {\n        var uuid = _ref2.uuid;\n        return React.createElement(Address, {\n          key: uuid,\n          ref: uuid,\n          uuid: uuid,\n          deletable: _this4.state[ADDRESS_KEY].length > 1,\n          deleteAddress: _this4.deleteAddress.bind(_this4),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        });\n      });\n    } // Mains render\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, this.renderAddresses(), React.createElement(Button, {\n        buttonStyle: \"primaryLink\",\n        icon: \"plus\",\n        onClick: this.addAddress.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Agregar direcci\\xF3n\"));\n    }\n  }]);\n\n  return Addresses;\n}(React.Component);\n\nexport default Addresses;","map":{"version":3,"sources":["/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/newInvoice/complementos/foreignTrade/entityAddressees/entityAddress/addresses/index.js"],"names":["React","update","uuid","Button","Address","ADDRESS_KEY","Addresses","props","data","state","Object","assign","addAddress","map","address","refs","validate","every","e","export","setState","length","$set","filter","c","deleteAddress","bind","renderAddresses","Component"],"mappings":";;;;;;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,IAAP,MAAiB,MAAjB,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,eAAnB,C,CAEA;;AACA,OAAOC,OAAP,MAAoB,oBAApB;AAEA,IAAMC,WAAW,GAAG,SAApB;;IAEMC,S;;;;;AACJ,qBAAaC,KAAb,EAAoB;AAAA;;AAAA;;AAClB,mFAAMA,KAAN;AACA,UAAKC,IAAL,uBACGH,WADH,EACiB,EADjB;AAGA,UAAKI,KAAL,GAAaC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,MAAKH,IAAvB,CAAb;AALkB;AAMnB;;;;wCAEoB;AACnB,WAAKI,UAAL;AACD;;;+BAEW;AAAA;;AACV,aAAO,KAAKH,KAAL,CAAWJ,WAAX,EAAwBQ,GAAxB,CAA4B,UAAAC,OAAO;AAAA,eACxC,MAAI,CAACC,IAAL,CAAUD,OAAO,CAACZ,IAAlB,EAAwBc,QAAxB,EADwC;AAAA,OAAnC,EAELC,KAFK,CAEC,UAAAC,CAAC;AAAA,eAAIA,CAAJ;AAAA,OAFF,CAAP;AAGD,K,CAED;;;;8BACU;AAAA;;AACR,aAAOR,MAAM,CAACC,MAAP,CACL,EADK,EAEL,KAAKF,KAAL,CAAWJ,WAAX,EAAwBQ,GAAxB,CAA4B;AAAA,YAAGX,IAAH,QAAGA,IAAH;AAAA,eAAc,MAAI,CAACa,IAAL,CAAUb,IAAV,EAAgBiB,MAAhB,EAAd;AAAA,OAA5B,CAFK,CAAP;AAID,K,CAED;;;;iCACc;AACZ,UAAIL,OAAO,GAAG,KAAKL,KAAL,CAAWJ,WAAX,CAAd;AACA,WAAKe,QAAL,qBACGf,WADH,EACiBJ,MAAM,CAACa,OAAD,sBAClBA,OAAO,CAACO,MADU,EACD;AAAEC,QAAAA,IAAI,EAAE;AAAEpB,UAAAA,IAAI,EAAEA,IAAI;AAAZ;AAAR,OADC,EADvB;AAKD,K,CAED;;;;kCACeA,I,EAAM;AACnB,WAAKkB,QAAL,qBACGf,WADH,EACiB,KAAKI,KAAL,CAAWJ,WAAX,EAAwBkB,MAAxB,CAA+B,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACtB,IAAF,KAAWA,IAAf;AAAA,OAAhC,CADjB;AAGD,K,CAED;;;;sCACmB;AAAA;;AACjB,aACE,KAAKO,KAAL,CAAWJ,WAAX,EAAwBgB,MAAxB,GAAiC,CAAjC,IACA,KAAKZ,KAAL,CAAWJ,WAAX,EAAwBQ,GAAxB,CAA4B;AAAA,YAAGX,IAAH,SAAGA,IAAH;AAAA,eAC1B,oBAAC,OAAD;AACE,UAAA,GAAG,EAAEA,IADP;AAEE,UAAA,GAAG,EAAEA,IAFP;AAGE,UAAA,IAAI,EAAEA,IAHR;AAIE,UAAA,SAAS,EAAE,MAAI,CAACO,KAAL,CAAWJ,WAAX,EAAwBgB,MAAxB,GAAiC,CAJ9C;AAKE,UAAA,aAAa,EAAE,MAAI,CAACI,aAAL,CAAmBC,IAAnB,CAAwB,MAAxB,CALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAD0B;AAAA,OAA5B,CAFF;AAYD,K,CAED;;;;6BACU;AACR,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKC,eAAL,EADH,EAEE,oBAAC,MAAD;AACE,QAAA,WAAW,EAAC,aADd;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,OAAO,EAAE,KAAKf,UAAL,CAAgBc,IAAhB,CAAqB,IAArB,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAFF,CADF;AAYD;;;;EA1EqB1B,KAAK,CAAC4B,S;;AA6E9B,eAAetB,SAAf","sourcesContent":["// Libraries\nimport React from 'react'\nimport update from 'immutability-helper'\nimport uuid from 'uuid'\n\n// Components\nimport Button from 'shared/button'\n\n// Children\nimport Address from './../../../address'\n\nconst ADDRESS_KEY = 'address'\n\nclass Addresses extends React.Component {\n  constructor (props) {\n    super(props)\n    this.data = {\n      [ADDRESS_KEY]: []\n    }\n    this.state = Object.assign({}, this.data)\n  }\n\n  componentDidMount () {\n    this.addAddress()\n  }\n\n  validate () {\n    return this.state[ADDRESS_KEY].map(address =>\n      this.refs[address.uuid].validate()\n    ).every(e => e)\n  }\n\n  // Exports Addresses object\n  export () {\n    return Object.assign(\n      {},\n      this.state[ADDRESS_KEY].map(({ uuid }) => this.refs[uuid].export())\n    )\n  }\n\n  // Create a new address and append it to state\n  addAddress () {\n    let address = this.state[ADDRESS_KEY]\n    this.setState({\n      [ADDRESS_KEY]: update(address, {\n        [address.length]: { $set: { uuid: uuid() } }\n      })\n    })\n  }\n\n  // Return a new array with current addresses except the one to be deleted\n  deleteAddress (uuid) {\n    this.setState({\n      [ADDRESS_KEY]: this.state[ADDRESS_KEY].filter(c => c.uuid !== uuid)\n    })\n  }\n\n  // Renders Address components\n  renderAddresses () {\n    return (\n      this.state[ADDRESS_KEY].length > 0 &&\n      this.state[ADDRESS_KEY].map(({ uuid }) => (\n        <Address\n          key={uuid}\n          ref={uuid}\n          uuid={uuid}\n          deletable={this.state[ADDRESS_KEY].length > 1}\n          deleteAddress={this.deleteAddress.bind(this)}\n        />\n      ))\n    )\n  }\n\n  // Mains render\n  render () {\n    return (\n      <div>\n        {this.renderAddresses()}\n        <Button\n          buttonStyle='primaryLink'\n          icon='plus'\n          onClick={this.addAddress.bind(this)}\n        >\n          Agregar direcciÃ³n\n        </Button>\n      </div>\n    )\n  }\n}\n\nexport default Addresses\n"]},"metadata":{},"sourceType":"module"}