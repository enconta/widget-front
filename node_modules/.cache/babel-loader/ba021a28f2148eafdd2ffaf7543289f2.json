{"ast":null,"code":"var Environment = function () {\n  function Environment() {}\n\n  Environment.serialize = function () {\n    return {\n      transport: this.transport(),\n      origin: this.origin()\n    };\n  };\n\n  Environment.origin = function () {\n    return window.location.origin || window.location.protocol + \"//\" + window.location.hostname;\n  };\n\n  Environment.transport = function () {\n    if (window.XDomainRequest) {\n      return \"XDomainRequest\";\n    } else if (window.XMLHttpRequest && !window.fetch) {\n      return \"XMLHttpRequest\";\n    } else {\n      return \"fetch\";\n    }\n  };\n\n  Environment.supportsPromises = function () {\n    var P = window.Promise;\n\n    if (P) {\n      var promiseToString = null;\n\n      try {\n        promiseToString = Object.prototype.toString.call(P.resolve());\n      } catch (e) {}\n\n      if (promiseToString === \"[object Promise]\" && !P.cast) {\n        return true;\n      }\n\n      if (promiseToString === \"[object Object]\" && Promise.prototype._guidKey) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  return Environment;\n}();\n\nexport { Environment };","map":null,"metadata":{},"sourceType":"module"}