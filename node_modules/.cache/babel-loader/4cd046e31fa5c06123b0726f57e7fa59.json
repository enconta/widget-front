{"ast":null,"code":"import _classCallCheck from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/editUser/suscription/paymentMethods/editingForm/index.js\";\n// Libraries\nimport React, { Component } from 'react';\nimport AppSignal from 'appsignal'; // Components\n\nimport CardForm from './formCard';\nimport { StripeProvider, Elements } from 'react-stripe-elements'; // Actions\n\nimport NotificationsActions from 'actions/notifications';\nexport var requiredFields = new Set(); // Load dinamically the Conekta API\n\nvar loadDynamicConektaScript = function loadDynamicConektaScript(callback) {\n  var script = document.createElement('script');\n  script.src = process.env.PAYMENT_GATEWAY_ROUTE;\n  document.body.appendChild(script);\n\n  script.onload = function () {\n    if (callback) callback();\n  };\n};\n\nvar NewPaymentMethod =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NewPaymentMethod, _Component);\n\n  function NewPaymentMethod() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, NewPaymentMethod);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(NewPaymentMethod)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      stripe: null\n    };\n    return _this;\n  }\n\n  _createClass(NewPaymentMethod, [{\n    key: \"componentDidMount\",\n\n    /**\n     * Initialice Payment Processing Platform API\n     */\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      loadDynamicConektaScript(function () {\n        try {\n          _this2.setState({\n            stripe: window.Stripe(process.env.PAYMENT_GATEWAY, {\n              locale: 'es'\n            })\n          });\n        } catch (error) {\n          AppSignal.addBreadcrumb({\n            category: 'Pasarela de pagos',\n            action: \"Error: Sin variables de entorno\"\n          });\n          AppSignal.sendError(new Error(error));\n          NotificationsActions.error('Error en el servidor de pagos');\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          stripe = _this$state.stripe,\n          totalCardsCreated = _this$state.totalCardsCreated;\n      var _this$props = this.props,\n          premium = _this$props.premium,\n          controlPlans = _this$props.controlPlans,\n          hideForm = _this$props.hideForm;\n      return React.createElement(StripeProvider, {\n        stripe: this.state.stripe,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Elements, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(CardForm, {\n        totalCardsCreated: totalCardsCreated,\n        stripe: stripe,\n        premium: premium,\n        controlPlans: controlPlans,\n        hideForm: hideForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return NewPaymentMethod;\n}(Component);\n\nexport default NewPaymentMethod;","map":{"version":3,"sources":["/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/editUser/suscription/paymentMethods/editingForm/index.js"],"names":["React","Component","AppSignal","CardForm","StripeProvider","Elements","NotificationsActions","requiredFields","Set","loadDynamicConektaScript","callback","script","document","createElement","src","process","env","PAYMENT_GATEWAY_ROUTE","body","appendChild","onload","NewPaymentMethod","state","stripe","setState","window","Stripe","PAYMENT_GATEWAY","locale","error","addBreadcrumb","category","action","sendError","Error","totalCardsCreated","props","premium","controlPlans","hideForm"],"mappings":";;;;;;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,WAAtB,C,CAEA;;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,cAAT,EAAyBC,QAAzB,QAAyC,uBAAzC,C,CAEA;;AACA,OAAOC,oBAAP,MAAiC,uBAAjC;AAEA,OAAO,IAAMC,cAAc,GAAG,IAAIC,GAAJ,EAAvB,C,CAEP;;AACA,IAAMC,wBAAwB,GAAG,SAA3BA,wBAA2B,CAAAC,QAAQ,EAAI;AAC3C,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;AACAF,EAAAA,MAAM,CAACG,GAAP,GAAaC,OAAO,CAACC,GAAR,CAAYC,qBAAzB;AACAL,EAAAA,QAAQ,CAACM,IAAT,CAAcC,WAAd,CAA0BR,MAA1B;;AACAA,EAAAA,MAAM,CAACS,MAAP,GAAgB,YAAM;AACpB,QAAIV,QAAJ,EAAcA,QAAQ;AACvB,GAFD;AAGD,CAPD;;IASMW,gB;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,MAAM,EAAE;AADF,K;;;;;;;AAGR;;;wCAGqB;AAAA;;AACnBd,MAAAA,wBAAwB,CAAC,YAAM;AAC7B,YAAI;AACF,UAAA,MAAI,CAACe,QAAL,CAAc;AACZD,YAAAA,MAAM,EAAEE,MAAM,CAACC,MAAP,CAAcX,OAAO,CAACC,GAAR,CAAYW,eAA1B,EAA2C;AACjDC,cAAAA,MAAM,EAAE;AADyC,aAA3C;AADI,WAAd;AAKD,SAND,CAME,OAAOC,KAAP,EAAc;AACd3B,UAAAA,SAAS,CAAC4B,aAAV,CAAwB;AACtBC,YAAAA,QAAQ,EAAE,mBADY;AAEtBC,YAAAA,MAAM;AAFgB,WAAxB;AAIA9B,UAAAA,SAAS,CAAC+B,SAAV,CAAoB,IAAIC,KAAJ,CAAUL,KAAV,CAApB;AACAvB,UAAAA,oBAAoB,CAACuB,KAArB,CAA2B,+BAA3B;AACD;AACF,OAfuB,CAAxB;AAgBD;;;6BAES;AAAA,wBAC8B,KAAKP,KADnC;AAAA,UACAC,MADA,eACAA,MADA;AAAA,UACQY,iBADR,eACQA,iBADR;AAAA,wBAEoC,KAAKC,KAFzC;AAAA,UAEAC,OAFA,eAEAA,OAFA;AAAA,UAESC,YAFT,eAESA,YAFT;AAAA,UAEuBC,QAFvB,eAEuBA,QAFvB;AAGR,aACE,oBAAC,cAAD;AAAgB,QAAA,MAAM,EAAE,KAAKjB,KAAL,CAAWC,MAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AACE,QAAA,iBAAiB,EAAEY,iBADrB;AAEE,QAAA,MAAM,EAAEZ,MAFV;AAGE,QAAA,OAAO,EAAEc,OAHX;AAIE,QAAA,YAAY,EAAEC,YAJhB;AAKE,QAAA,QAAQ,EAAEC,QALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CADF;AAaD;;;;EA1C4BtC,S;;AA6C/B,eAAeoB,gBAAf","sourcesContent":["// Libraries\nimport React, { Component } from 'react'\nimport AppSignal from 'appsignal'\n\n// Components\nimport CardForm from './formCard'\nimport { StripeProvider, Elements } from 'react-stripe-elements'\n\n// Actions\nimport NotificationsActions from 'actions/notifications'\n\nexport const requiredFields = new Set()\n\n// Load dinamically the Conekta API\nconst loadDynamicConektaScript = callback => {\n  const script = document.createElement('script')\n  script.src = process.env.PAYMENT_GATEWAY_ROUTE\n  document.body.appendChild(script)\n  script.onload = () => {\n    if (callback) callback()\n  }\n}\n\nclass NewPaymentMethod extends Component {\n  state = {\n    stripe: null\n  }\n  /**\n   * Initialice Payment Processing Platform API\n   */\n  componentDidMount () {\n    loadDynamicConektaScript(() => {\n      try {\n        this.setState({\n          stripe: window.Stripe(process.env.PAYMENT_GATEWAY, {\n            locale: 'es'\n          })\n        })\n      } catch (error) {\n        AppSignal.addBreadcrumb({\n          category: 'Pasarela de pagos',\n          action: `Error: Sin variables de entorno`\n        })\n        AppSignal.sendError(new Error(error))\n        NotificationsActions.error('Error en el servidor de pagos')\n      }\n    })\n  }\n\n  render () {\n    const { stripe, totalCardsCreated } = this.state\n    const { premium, controlPlans, hideForm } = this.props\n    return (\n      <StripeProvider stripe={this.state.stripe}>\n        <Elements>\n          <CardForm\n            totalCardsCreated={totalCardsCreated}\n            stripe={stripe}\n            premium={premium}\n            controlPlans={controlPlans}\n            hideForm={hideForm}\n          />\n        </Elements>\n      </StripeProvider>\n    )\n  }\n}\n\nexport default NewPaymentMethod\n"]},"metadata":{},"sourceType":"module"}