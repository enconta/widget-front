{"ast":null,"code":"import _classCallCheck from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/reports/behaviors/components/chart.js\";\nimport React, { Component } from 'react';\nimport accounting from 'accounting';\nimport { BarChart, Bar, XAxis, YAxis, Tooltip, LabelList, Rectangle, ResponsiveContainer } from 'recharts'; // Utils para formatear los valores\n\nvar formatMoneyWithoutSimbol = function formatMoneyWithoutSimbol(amount) {\n  return accounting.formatMoney(amount, '', 0);\n};\n\nvar formatMoneyWithSimbol = function formatMoneyWithSimbol(amount) {\n  return accounting.formatMoney(amount, '$', 0);\n};\n\nvar LABEL_STYLE = {\n  fill: '#a3a4a8',\n  fontSize: '14'\n};\nvar MARGIN = {\n  top: 20,\n  left: 20\n};\nvar COLORS = {\n  red: '#B71C1C',\n  green: '#8BC34A'\n}; // Dependiendo del tipo se muestra el porcentaje de diferencia diferente\n\nvar getLabelFill = function getLabelFill(value, type) {\n  switch (type) {\n    case 'incomes':\n      return value < 0 ? COLORS.red : COLORS.green;\n\n    case 'expenses':\n      return value < 0 ? COLORS.green : COLORS.red;\n  }\n};\n\nvar Label = function Label(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      value = _ref.value,\n      type = _ref.type;\n  if (!value) return null;\n  return React.createElement(\"text\", {\n    x: x + width / 2,\n    y: y - 10,\n    fill: getLabelFill(value, type),\n    fontWeight: \"500\",\n    fontFamily: \"Rubik\",\n    textAnchor: \"middle\",\n    dominantBaseline: \"middle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"\".concat(value, \"%\"));\n};\n\nvar TotalBar = function TotalBar(_ref2) {\n  var fill = _ref2.fill,\n      stroke = _ref2.stroke,\n      x = _ref2.x,\n      y = _ref2.y,\n      width = _ref2.width,\n      height = _ref2.height;\n  return React.createElement(Rectangle, {\n    x: x,\n    y: y,\n    fill: fill,\n    width: width,\n    height: height,\n    stroke: stroke,\n    strokeWidth: \"4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  });\n};\n\nvar SubtotalBar = function SubtotalBar(_ref3) {\n  var fill = _ref3.fill,\n      stroke = _ref3.stroke,\n      x = _ref3.x,\n      y = _ref3.y,\n      width = _ref3.width,\n      height = _ref3.height;\n  return React.createElement(Rectangle, {\n    x: x,\n    y: y,\n    fill: fill,\n    width: width,\n    height: height,\n    stroke: stroke,\n    strokeWidth: \"4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  });\n};\n\nvar IvaBar = function IvaBar(_ref4) {\n  var fill = _ref4.fill,\n      x = _ref4.x,\n      y = _ref4.y,\n      width = _ref4.width,\n      height = _ref4.height;\n  return React.createElement(Rectangle, {\n    x: x + 2,\n    y: y,\n    fill: \"transparent\",\n    width: width - 4,\n    height: height,\n    stroke: fill,\n    strokeWidth: \"2\",\n    strokeDasharray: \"4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  });\n};\n\nvar Chart =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Chart, _Component);\n\n  function Chart() {\n    _classCallCheck(this, Chart);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Chart).apply(this, arguments));\n  }\n\n  _createClass(Chart, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          show = _this$props.show,\n          fill = _this$props.fill,\n          data = _this$props.data,\n          type = _this$props.type;\n      return React.createElement(ResponsiveContainer, {\n        width: \"100%\",\n        height: 350,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(BarChart, {\n        data: data,\n        margin: MARGIN,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(XAxis, {\n        dataKey: \"month\",\n        tickLine: false,\n        tick: LABEL_STYLE,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(YAxis, {\n        tick: LABEL_STYLE,\n        tickFormatter: formatMoneyWithoutSimbol,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(Tooltip, {\n        formatter: formatMoneyWithSimbol,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), show === 'total' && React.createElement(Bar, {\n        dataKey: \"total\",\n        shape: React.createElement(TotalBar, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }),\n        stackId: \"a\",\n        fill: fill,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(LabelList, {\n        dataKey: \"difference\",\n        position: \"top\",\n        content: React.createElement(Label, {\n          type: type,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      })), show === 'subtotal' && React.createElement(Bar, {\n        dataKey: \"subtotal\",\n        shape: React.createElement(SubtotalBar, {\n          fill: fill,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }),\n        stackId: \"a\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), show === 'subtotal' && React.createElement(Bar, {\n        dataKey: \"iva\",\n        shape: React.createElement(IvaBar, {\n          fill: fill,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }),\n        stackId: \"a\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(LabelList, {\n        dataKey: \"difference\",\n        position: \"top\",\n        content: React.createElement(Label, {\n          type: type,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Chart;\n}(Component);\n\nexport { Chart as default };","map":{"version":3,"sources":["/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/reports/behaviors/components/chart.js"],"names":["React","Component","accounting","BarChart","Bar","XAxis","YAxis","Tooltip","LabelList","Rectangle","ResponsiveContainer","formatMoneyWithoutSimbol","amount","formatMoney","formatMoneyWithSimbol","LABEL_STYLE","fill","fontSize","MARGIN","top","left","COLORS","red","green","getLabelFill","value","type","Label","x","y","width","TotalBar","stroke","height","SubtotalBar","IvaBar","Chart","props","show","data"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport accounting from 'accounting'\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  Tooltip,\n  LabelList,\n  Rectangle,\n  ResponsiveContainer\n} from 'recharts'\n\n// Utils para formatear los valores\nconst formatMoneyWithoutSimbol = amount => accounting.formatMoney(amount, '', 0)\nconst formatMoneyWithSimbol = amount => accounting.formatMoney(amount, '$', 0)\n\nconst LABEL_STYLE = { fill: '#a3a4a8', fontSize: '14' }\nconst MARGIN = { top: 20, left: 20 }\nconst COLORS = {\n  red: '#B71C1C',\n  green: '#8BC34A'\n}\n\n// Dependiendo del tipo se muestra el porcentaje de diferencia diferente\nconst getLabelFill = (value, type) => {\n  switch (type) {\n    case 'incomes':\n      return value < 0 ? COLORS.red : COLORS.green\n    case 'expenses':\n      return value < 0 ? COLORS.green : COLORS.red\n  }\n}\n\nconst Label = ({ x, y, width, value, type }) => {\n  if (!value) return null\n\n  return (\n    <text\n      x={x + width / 2}\n      y={y - 10}\n      fill={getLabelFill(value, type)}\n      fontWeight='500'\n      fontFamily='Rubik'\n      textAnchor='middle'\n      dominantBaseline='middle'\n    >\n      {`${value}%`}\n    </text>\n  )\n}\n\nconst TotalBar = ({ fill, stroke, x, y, width, height }) => (\n  <Rectangle\n    x={x}\n    y={y}\n    fill={fill}\n    width={width}\n    height={height}\n    stroke={stroke}\n    strokeWidth='4'\n  />\n)\n\nconst SubtotalBar = ({ fill, stroke, x, y, width, height }) => (\n  <Rectangle\n    x={x}\n    y={y}\n    fill={fill}\n    width={width}\n    height={height}\n    stroke={stroke}\n    strokeWidth='4'\n  />\n)\n\nconst IvaBar = ({ fill, x, y, width, height }) => (\n  <Rectangle\n    x={x + 2}\n    y={y}\n    fill='transparent'\n    width={width - 4}\n    height={height}\n    stroke={fill}\n    strokeWidth='2'\n    strokeDasharray='4'\n  />\n)\n\nexport default class Chart extends Component {\n  render () {\n    const { show, fill, data, type } = this.props\n\n    return (\n      <ResponsiveContainer width='100%' height={350}>\n        <BarChart data={data} margin={MARGIN}>\n          <XAxis dataKey='month' tickLine={false} tick={LABEL_STYLE} />\n          <YAxis tick={LABEL_STYLE} tickFormatter={formatMoneyWithoutSimbol} />\n          <Tooltip formatter={formatMoneyWithSimbol} />\n          {show === 'total' && (\n            <Bar dataKey='total' shape={<TotalBar />} stackId='a' fill={fill}>\n              <LabelList\n                dataKey='difference'\n                position='top'\n                content={<Label type={type} />}\n              />\n            </Bar>\n          )}\n          {/* No se usa fragments porque bar debe ser hijo de Barchart */}\n          {show === 'subtotal' && (\n            <Bar\n              dataKey='subtotal'\n              shape={<SubtotalBar fill={fill} />}\n              stackId='a'\n            />\n          )}\n          {show === 'subtotal' && (\n            <Bar dataKey='iva' shape={<IvaBar fill={fill} />} stackId='a'>\n              <LabelList\n                dataKey='difference'\n                position='top'\n                content={<Label type={type} />}\n              />\n            </Bar>\n          )}\n        </BarChart>\n      </ResponsiveContainer>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}