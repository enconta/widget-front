{"ast":null,"code":"import _toConsumableArray from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/newInvoice/complementos/foreignTrade/entityAddressees/entityAddress/index.js\";\n// Libraries\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames'; // Components\n\nimport TextField from 'shared/textField';\nimport Button from 'shared/button'; // Children\n\nimport Addresses from './addresses';\nvar ENTITY_REGISTER_ID_KEY = 'entity_register_id';\nvar NAME_KEY = 'name';\nvar requiredFields = new Set();\n\nvar EntityAddress =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EntityAddress, _React$Component);\n\n  function EntityAddress(props) {\n    var _this$data;\n\n    var _this;\n\n    _classCallCheck(this, EntityAddress);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EntityAddress).call(this, props));\n    _this.data = (_this$data = {}, _defineProperty(_this$data, ENTITY_REGISTER_ID_KEY, ''), _defineProperty(_this$data, NAME_KEY, ''), _this$data);\n    _this.state = Object.assign({}, _this.data);\n    return _this;\n  }\n\n  _createClass(EntityAddress, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // Clears the stored requiredFields\n      requiredFields.clear();\n    } // Iterates over required fields and validates every one of them\n    // Then it returns true if all validations succeedeed, else false.\n\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      var requiredIsValid = _toConsumableArray(requiredFields) // Converts the Set() into an array\n      .filter(Boolean) // Filters the array from any falsy value\n      .map(function (form) {\n        return form.validate();\n      }) // Calls the validate() method on each form\n      .every(function (e) {\n        return e;\n      }); // Checks if all validations suceeded\n\n\n      var addressesAreValid = this.refs['addresses'].validate();\n      return requiredIsValid && addressesAreValid;\n    } // Returns EntityAddress object\n\n  }, {\n    key: \"export\",\n    value: function _export() {\n      var addresses = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.refs['addresses'].export();\n      return Object.assign({}, this.state, {\n        addresses: Object.keys(addresses).map(function (key) {\n          return addresses[key];\n        })\n      });\n    } // Updates an input's value when it changes\n\n  }, {\n    key: \"onChange\",\n    value: function onChange(field, e) {\n      this.setState(_defineProperty({}, field, e.target.value));\n    }\n  }, {\n    key: \"renderEntityAddress\",\n    value: function renderEntityAddress() {\n      return React.createElement(\"div\", {\n        className: \"columns\",\n        ref: \"entityAddress\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"column is-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(TextField // entity_register_id, registro fiscal 6 a 40 caracteres alfanuméricos\n      , {\n        label: \"Registro fiscal\",\n        placeholder: \"Registro fiscal\",\n        value: this.state[ENTITY_REGISTER_ID_KEY],\n        onChange: this.onChange.bind(this, ENTITY_REGISTER_ID_KEY),\n        required: true,\n        ref: function ref(r) {\n          return requiredFields.add(r);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(TextField // name, nombre, 1 a 300 caracteres alfanuméricos con espacio\n      , {\n        label: \"Nombre\",\n        placeholder: \"Nombre\",\n        value: this.state[NAME_KEY],\n        onChange: this.onChange.bind(this, NAME_KEY),\n        required: true,\n        ref: function ref(r) {\n          return requiredFields.add(r);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"column is-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Addresses, {\n        ref: \"addresses\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      })));\n    } // Main render\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, this.renderEntityAddress(), React.createElement(\"div\", {\n        className: classNames({\n          'is-hidden': !this.props.deletable\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Button, {\n        buttonStyle: \"dangerLink\",\n        icon: \"delete\",\n        onClick: function onClick() {\n          _this2.props.deleteEntityAddress(_this2.props.uuid);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Eliminar destinatario\")));\n    }\n  }]);\n\n  return EntityAddress;\n}(React.Component);\n\nEntityAddress.propTypes = {\n  deleteEntityAddress: PropTypes.func,\n  deletable: PropTypes.bool,\n  uuid: PropTypes.string\n};\nexport default EntityAddress;","map":{"version":3,"sources":["/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/newInvoice/complementos/foreignTrade/entityAddressees/entityAddress/index.js"],"names":["React","PropTypes","classNames","TextField","Button","Addresses","ENTITY_REGISTER_ID_KEY","NAME_KEY","requiredFields","Set","EntityAddress","props","data","state","Object","assign","clear","requiredIsValid","filter","Boolean","map","form","validate","every","e","addressesAreValid","refs","addresses","export","keys","key","field","setState","target","value","onChange","bind","r","add","renderEntityAddress","deletable","deleteEntityAddress","uuid","Component","propTypes","func","bool","string"],"mappings":"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","sourcesContent":["// Libraries\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\n\n// Components\nimport TextField from 'shared/textField'\nimport Button from 'shared/button'\n\n// Children\nimport Addresses from './addresses'\n\nconst ENTITY_REGISTER_ID_KEY = 'entity_register_id'\nconst NAME_KEY = 'name'\n\nconst requiredFields = new Set()\n\nclass EntityAddress extends React.Component {\n  constructor (props) {\n    super(props)\n    this.data = {\n      [ENTITY_REGISTER_ID_KEY]: '',\n      [NAME_KEY]: ''\n    }\n    this.state = Object.assign({}, this.data)\n  }\n\n  componentWillUnmount () {\n    // Clears the stored requiredFields\n    requiredFields.clear()\n  }\n\n  // Iterates over required fields and validates every one of them\n  // Then it returns true if all validations succeedeed, else false.\n  validate () {\n    const requiredIsValid = [...requiredFields] // Converts the Set() into an array\n      .filter(Boolean) // Filters the array from any falsy value\n      .map(form => form.validate()) // Calls the validate() method on each form\n      .every(e => e) // Checks if all validations suceeded\n    const addressesAreValid = this.refs['addresses'].validate()\n    return requiredIsValid && addressesAreValid\n  }\n\n  // Returns EntityAddress object\n  export (addresses = this.refs['addresses'].export()) {\n    return Object.assign({}, this.state, {\n      addresses: Object.keys(addresses).map(key => addresses[key])\n    })\n  }\n\n  // Updates an input's value when it changes\n  onChange (field, e) {\n    this.setState({\n      [field]: e.target.value\n    })\n  }\n\n  renderEntityAddress () {\n    return (\n      <div className='columns' ref='entityAddress'>\n        <div className='column is-4'>\n          <TextField // entity_register_id, registro fiscal 6 a 40 caracteres alfanuméricos\n            label='Registro fiscal'\n            placeholder='Registro fiscal'\n            value={this.state[ENTITY_REGISTER_ID_KEY]}\n            onChange={this.onChange.bind(this, ENTITY_REGISTER_ID_KEY)}\n            required\n            ref={r => requiredFields.add(r)}\n          />\n          <br />\n          <TextField // name, nombre, 1 a 300 caracteres alfanuméricos con espacio\n            label='Nombre'\n            placeholder='Nombre'\n            value={this.state[NAME_KEY]}\n            onChange={this.onChange.bind(this, NAME_KEY)}\n            required\n            ref={r => requiredFields.add(r)}\n          />\n        </div>\n        <div className='column is-8'>\n          <Addresses ref='addresses' />\n        </div>\n      </div>\n    )\n  }\n\n  // Main render\n  render () {\n    return (\n      <div>\n        {this.renderEntityAddress()}\n        <div className={classNames({ 'is-hidden': !this.props.deletable })}>\n          <Button\n            buttonStyle='dangerLink'\n            icon='delete'\n            onClick={() => {\n              this.props.deleteEntityAddress(this.props.uuid)\n            }}\n          >\n            Eliminar destinatario\n          </Button>\n        </div>\n      </div>\n    )\n  }\n}\n\nEntityAddress.propTypes = {\n  deleteEntityAddress: PropTypes.func,\n  deletable: PropTypes.bool,\n  uuid: PropTypes.string\n}\n\nexport default EntityAddress\n"]},"metadata":{},"sourceType":"module"}