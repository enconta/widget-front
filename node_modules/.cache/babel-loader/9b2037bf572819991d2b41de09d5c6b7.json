{"ast":null,"code":"import _classCallCheck from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _EMAIL_LABELS,\n    _jsxFileName = \"/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/facturas-enviadas/ver/index.js\";\n\n// Libraries\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport uuid from 'uuid';\nimport { Link } from 'react-router';\nimport AppSignal from 'appsignal'; // Components\n\nimport API from 'api';\nimport Button from 'shared/button';\nimport Card from 'shared/card';\nimport NotificationsActions from 'actions/notifications'; // Keys\n\nvar EMAIL_CREATED_AT_KEY = 'created_at';\nvar EMAIL_EMAILED_INVOICES_KEY = 'emailed_invoices';\nvar EMAIL_ERROR_MESSAGE_KEY = 'error_message';\nvar EMAIL_ID_KEY = 'id';\nvar EMAIL_MESSAGE_KEY = 'message';\nvar EMAIL_TO_KEY = 'to'; // Labels\n\nvar EMAIL_LABELS = (_EMAIL_LABELS = {}, _defineProperty(_EMAIL_LABELS, EMAIL_CREATED_AT_KEY, 'Fecha de envío'), _defineProperty(_EMAIL_LABELS, EMAIL_EMAILED_INVOICES_KEY, 'Facturas enviadas'), _defineProperty(_EMAIL_LABELS, EMAIL_ERROR_MESSAGE_KEY, 'Mensaje de error'), _defineProperty(_EMAIL_LABELS, EMAIL_ID_KEY, 'ID del correo'), _defineProperty(_EMAIL_LABELS, EMAIL_MESSAGE_KEY, 'ID del mensaje'), _defineProperty(_EMAIL_LABELS, EMAIL_TO_KEY, 'Enviado a'), _EMAIL_LABELS); // Render sigle item\n\nvar renderDetail = function renderDetail(name, parent, item) {\n  return typeof parent[item] !== 'undefined' && parent[item] !== null ? React.createElement(\"p\", {\n    key: uuid(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"caption\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, name), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, parent[item])) : null;\n};\n\nvar FacturaEnviada =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FacturaEnviada, _Component);\n\n  function FacturaEnviada(props) {\n    var _email;\n\n    var _this;\n\n    _classCallCheck(this, FacturaEnviada);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FacturaEnviada).call(this, props));\n    _this.data = {\n      email: (_email = {}, _defineProperty(_email, EMAIL_CREATED_AT_KEY, ''), _defineProperty(_email, EMAIL_EMAILED_INVOICES_KEY, []), _defineProperty(_email, EMAIL_ERROR_MESSAGE_KEY, ''), _defineProperty(_email, EMAIL_ID_KEY, 0), _defineProperty(_email, EMAIL_MESSAGE_KEY, ''), _defineProperty(_email, EMAIL_TO_KEY, ''), _email)\n    };\n    _this.state = Object.assign({}, _this.data);\n    return _this;\n  } // Load data on component's mount\n\n\n  _createClass(FacturaEnviada, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadData();\n    } // Load email data\n\n  }, {\n    key: \"loadData\",\n    value: function loadData() {\n      var _this2 = this;\n\n      API.SentEmails.Show(this.props.params.id).then(function (r) {\n        _this2.setState({\n          requestInProgress: false,\n          email: r.email\n        });\n      }).catch(function (error) {\n        AppSignal.sendError(error);\n        NotificationsActions.error(error);\n      });\n    } // Render simple details\n\n  }, {\n    key: \"renderDetails\",\n    value: function renderDetails() {\n      var _this3 = this;\n\n      var details = [EMAIL_CREATED_AT_KEY, EMAIL_TO_KEY, EMAIL_ID_KEY, EMAIL_ERROR_MESSAGE_KEY, EMAIL_MESSAGE_KEY];\n      return React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, details.map(function (d) {\n        return renderDetail(EMAIL_LABELS[d], _this3.state.email, d);\n      }));\n    } // Render single invoice\n\n  }, {\n    key: \"renderInvoice\",\n    value: function renderInvoice(invoice) {\n      return React.createElement(\"div\", {\n        key: uuid(),\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"caption\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Emitido a\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/facturas/ver/\".concat(invoice['invoice_id']),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, invoice['company_name'])));\n    } // Render list of invoices sent\n\n  }, {\n    key: \"renderInvoices\",\n    value: function renderInvoices() {\n      var _this4 = this;\n\n      var invoices = this.state.email[EMAIL_EMAILED_INVOICES_KEY].length > 0 && this.state.email[EMAIL_EMAILED_INVOICES_KEY].map(function (invoice) {\n        return _this4.renderInvoice(invoice);\n      });\n      return React.createElement(\"div\", {\n        className: \"espacio-medium\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, invoices);\n    } // Main render\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"headline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Factura\"), React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"subheader-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Detalles del env\\xEDo\"), this.renderDetails(), React.createElement(\"h2\", {\n        className: \"subheader-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Facturas enviadas\"), this.renderInvoices(), React.createElement(Link, {\n        to: \"/emails/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Button, {\n        icon: \"arrow-left\",\n        buttonStyle: \"white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Regresar\"))));\n    }\n  }]);\n\n  return FacturaEnviada;\n}(Component);\n\nFacturaEnviada.propTypes = {\n  params: PropTypes.shape({\n    id: PropTypes.string\n  })\n};\nexport default FacturaEnviada;","map":{"version":3,"sources":["/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/facturas-enviadas/ver/index.js"],"names":["React","Component","PropTypes","uuid","Link","AppSignal","API","Button","Card","NotificationsActions","EMAIL_CREATED_AT_KEY","EMAIL_EMAILED_INVOICES_KEY","EMAIL_ERROR_MESSAGE_KEY","EMAIL_ID_KEY","EMAIL_MESSAGE_KEY","EMAIL_TO_KEY","EMAIL_LABELS","renderDetail","name","parent","item","FacturaEnviada","props","data","email","state","Object","assign","loadData","SentEmails","Show","params","id","then","r","setState","requestInProgress","catch","error","sendError","details","map","d","invoice","invoices","length","renderInvoice","renderDetails","renderInvoices","propTypes","shape","string"],"mappings":"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","sourcesContent":["// Libraries\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport uuid from 'uuid'\nimport { Link } from 'react-router'\nimport AppSignal from 'appsignal'\n\n// Components\nimport API from 'api'\nimport Button from 'shared/button'\nimport Card from 'shared/card'\nimport NotificationsActions from 'actions/notifications'\n\n// Keys\nconst EMAIL_CREATED_AT_KEY = 'created_at'\nconst EMAIL_EMAILED_INVOICES_KEY = 'emailed_invoices'\nconst EMAIL_ERROR_MESSAGE_KEY = 'error_message'\nconst EMAIL_ID_KEY = 'id'\nconst EMAIL_MESSAGE_KEY = 'message'\nconst EMAIL_TO_KEY = 'to'\n\n// Labels\nconst EMAIL_LABELS = {\n  [EMAIL_CREATED_AT_KEY]: 'Fecha de envío',\n  [EMAIL_EMAILED_INVOICES_KEY]: 'Facturas enviadas',\n  [EMAIL_ERROR_MESSAGE_KEY]: 'Mensaje de error',\n  [EMAIL_ID_KEY]: 'ID del correo',\n  [EMAIL_MESSAGE_KEY]: 'ID del mensaje',\n  [EMAIL_TO_KEY]: 'Enviado a'\n}\n\n// Render sigle item\nconst renderDetail = (name, parent, item) => {\n  return typeof parent[item] !== 'undefined' && parent[item] !== null ? (\n    <p key={uuid()}>\n      <span className='caption'>{name}</span>\n      <br />\n      <span className='body'>{parent[item]}</span>\n    </p>\n  ) : null\n}\n\nclass FacturaEnviada extends Component {\n  constructor (props) {\n    super(props)\n    this.data = {\n      email: {\n        [EMAIL_CREATED_AT_KEY]: '',\n        [EMAIL_EMAILED_INVOICES_KEY]: [],\n        [EMAIL_ERROR_MESSAGE_KEY]: '',\n        [EMAIL_ID_KEY]: 0,\n        [EMAIL_MESSAGE_KEY]: '',\n        [EMAIL_TO_KEY]: ''\n      }\n    }\n    this.state = Object.assign({}, this.data)\n  }\n\n  // Load data on component's mount\n  componentDidMount () {\n    this.loadData()\n  }\n\n  // Load email data\n  loadData () {\n    API.SentEmails.Show(this.props.params.id)\n      .then(r => {\n        this.setState({\n          requestInProgress: false,\n          email: r.email\n        })\n      })\n      .catch(error => {\n        AppSignal.sendError(error)\n        NotificationsActions.error(error)\n      })\n  }\n\n  // Render simple details\n  renderDetails () {\n    const details = [\n      EMAIL_CREATED_AT_KEY,\n      EMAIL_TO_KEY,\n      EMAIL_ID_KEY,\n      EMAIL_ERROR_MESSAGE_KEY,\n      EMAIL_MESSAGE_KEY\n    ]\n    return (\n      <div className='content'>\n        {details.map(d => renderDetail(EMAIL_LABELS[d], this.state.email, d))}\n      </div>\n    )\n  }\n\n  // Render single invoice\n  renderInvoice (invoice) {\n    return (\n      <div key={uuid()} className='content'>\n        <span className='caption'>Emitido a</span>\n        <br />\n        <p className='body'>\n          <Link to={`/facturas/ver/${invoice['invoice_id']}`}>\n            {invoice['company_name']}\n          </Link>\n        </p>\n      </div>\n    )\n  }\n\n  // Render list of invoices sent\n  renderInvoices () {\n    let invoices =\n      this.state.email[EMAIL_EMAILED_INVOICES_KEY].length > 0 &&\n      this.state.email[EMAIL_EMAILED_INVOICES_KEY].map(invoice =>\n        this.renderInvoice(invoice)\n      )\n    return <div className='espacio-medium'>{invoices}</div>\n  }\n\n  // Main render\n  render () {\n    return (\n      <div>\n        <h1 className='headline'>Factura</h1>\n        <Card>\n          <h2 className='subheader-green'>Detalles del envío</h2>\n          {this.renderDetails()}\n          <h2 className='subheader-green'>Facturas enviadas</h2>\n          {this.renderInvoices()}\n          <Link to='/emails/'>\n            <Button icon='arrow-left' buttonStyle='white'>\n              Regresar\n            </Button>\n          </Link>\n        </Card>\n      </div>\n    )\n  }\n}\n\nFacturaEnviada.propTypes = {\n  params: PropTypes.shape({\n    id: PropTypes.string\n  })\n}\n\nexport default FacturaEnviada\n"]},"metadata":{},"sourceType":"module"}