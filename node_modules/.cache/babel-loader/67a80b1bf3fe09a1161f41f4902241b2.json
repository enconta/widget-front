{"ast":null,"code":"import _defineProperty from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/inventories/activity/index.js\";\n// Libraries\nimport React, { Component, Fragment } from 'react';\nimport accounting from 'accounting'; // Components\n\nimport RadioOptions from 'shared/filter/radioOptions.js';\nimport Filter from 'shared/filter';\nimport RangeOption from 'shared/filter/rangeOption.js';\nimport moment from 'moment';\nimport StatusIcon from 'shared/statusIcon';\nimport TableCardBody from 'shared/tableCard';\nimport TableCardHeader from 'shared/tableCardHeader'; // Actions\n\nimport InventoriesActions from 'actions/inventories';\n\nvar Activity =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Activity, _Component);\n\n  function Activity() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Activity);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Activity)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      displayFilters: false,\n      radioOptions: [],\n      startRange: '',\n      endRange: '',\n      starQuantity: '',\n      endQuantity: '',\n      searchInfo: '',\n      startDate: moment(),\n      endDate: moment(),\n      sort: {\n        sort_by: 'header1'\n      }\n    };\n\n    _this.handleDisplayFilters = function () {\n      _this.setState(function (state) {\n        return {\n          displayFilters: !state.displayFilters\n        };\n      });\n    };\n\n    _this.handleArrow = function (header) {\n      return function (event) {\n        var sort = _this.state.sort;\n        sort = {\n          sort_by: header\n        };\n\n        _this.setState({\n          sort: sort\n        });\n      };\n    };\n\n    _this.initFilteroptions = function () {\n      var radioOptions = [{\n        value: 'sells',\n        handleRadio: _this.handleRadio,\n        checked: false,\n        label: 'Venta'\n      }, {\n        value: 'purchase',\n        handleRadio: _this.handleRadio,\n        checked: false,\n        label: 'Compra'\n      }, {\n        value: 'all',\n        handleRadio: _this.handleRadio,\n        checked: true,\n        label: 'Ambos'\n      }];\n\n      _this.setState({\n        radioOptions: radioOptions\n      });\n    };\n\n    _this.handleRadio = function (event) {\n      var value = event.target.value;\n\n      _this.setState(function (state) {\n        var radioOptions = _toConsumableArray(state.radioOptions);\n\n        radioOptions.map(function (option) {\n          return option.value === value ? option.checked = true : option.checked = false;\n        });\n        return {\n          radioOptions: radioOptions\n        };\n      });\n    };\n\n    _this.handleAmountRanges = function (range) {\n      return function (event) {\n        var value = typeof event === 'object' && event instanceof moment ? event : event.target.value;\n\n        _this.setState(_defineProperty({}, range, value));\n      };\n    };\n\n    _this.handleQuantityRanges = function (test) {\n      return function (event) {\n        var value = typeof event === 'object' && event instanceof moment ? event : event.target.value;\n\n        _this.setState(_defineProperty({}, test, value));\n      };\n    };\n\n    _this.handleSearchbar = function (event) {\n      var value = event.target.value;\n\n      _this.setState({\n        searchInfo: value\n      });\n    };\n\n    _this.clearRadioOptions = function () {\n      _this.initFilteroptions();\n    };\n\n    _this.clearRanges = function () {\n      _this.setState({\n        startRange: '',\n        endRange: ''\n      });\n    };\n\n    _this.clearDate = function () {\n      _this.setState({\n        startDate: '',\n        endDate: ''\n      });\n    };\n\n    _this.clearAllFilters = function () {\n      _this.clearRadioOptions();\n\n      _this.clearRanges();\n\n      _this.clearDate();\n    };\n\n    return _this;\n  }\n\n  _createClass(Activity, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.initFilteroptions();\n      this.loadData();\n    }\n  }, {\n    key: \"loadData\",\n    value: function loadData() {\n      var params = Object.assign({}, this.props.location.query);\n      InventoriesActions.getRecords(params);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          displayFilters = _this$state.displayFilters,\n          radioOptions = _this$state.radioOptions,\n          startRange = _this$state.startRange,\n          endRange = _this$state.endRange,\n          starQuantity = _this$state.starQuantity,\n          endQuantity = _this$state.endQuantity,\n          searchInfo = _this$state.searchInfo,\n          sort = _this$state.sort,\n          startDate = _this$state.startDate,\n          endDate = _this$state.endDate;\n      var test = [{\n        title: 'Gorra de baseball roja y blanca',\n        subtitle: 'UUG-BB-PUR-07',\n        date: '16-SEP-18',\n        unit: 'Paquetes a granel',\n        activity: '22',\n        amount: 77000\n      }, {\n        title: 'Playera polo azul',\n        subtitle: 'UUG-BB-PUR-07',\n        date: '16-AGO-19',\n        unit: 'Pieza',\n        activity: '33',\n        amount: -50000.21\n      }, {\n        title: 'Nike shoes',\n        subtitle: 'UUG-BB-PUR-07',\n        date: '13-may-18',\n        unit: 'Paquetes a granel',\n        activity: '19',\n        amount: 12000\n      }];\n      var infoHeaders = [{\n        id: 'header',\n        hasIcon: false\n      }, {\n        header: 'Fecha',\n        id: 'header1',\n        hasIcon: true\n      }, {\n        header: 'Unidad',\n        id: 'header2',\n        hasIcon: false\n      }, {\n        header: 'Actividad',\n        id: 'header3',\n        hasIcon: true\n      }, {\n        header: 'Monto',\n        id: 'header4',\n        hasIcon: true\n      }];\n      var filters = [React.createElement(RadioOptions, {\n        options: radioOptions,\n        mainLabel: \"Tipo de Actividad\",\n        clear: this.clearRadioOptions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }), React.createElement(RangeOption, {\n        mainLabel: \"Cantidad de Producto\",\n        handleRanges: this.handleQuantityRanges,\n        startRange: starQuantity,\n        endRange: endQuantity,\n        clear: this.clearRanges,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }), React.createElement(RangeOption, {\n        mainLabel: \"Fecha\",\n        handleRanges: this.handleAmountRanges,\n        startRange: startDate,\n        endRange: endDate,\n        clear: this.clearDate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }), React.createElement(RangeOption, {\n        mainLabel: \"Monto\",\n        handleRanges: this.handleAmountRanges,\n        startRange: startRange,\n        endRange: endRange,\n        clear: this.clearRanges,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      })];\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, React.createElement(Filter, {\n        displayFilters: displayFilters,\n        handleDisplayFilters: this.handleDisplayFilters,\n        filters: filters,\n        clearAll: this.clearAllFilters,\n        handleSearch: this.handleSearchbar,\n        searchValue: searchInfo,\n        totalRecords: 3,\n        searchBarPlaceHolder: 'Buscar por Nombre o SKU',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"flex-end activity--margin-top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"caption\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"activity--type\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(StatusIcon, {\n        className: \"success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }), \"Ventas\"), React.createElement(\"span\", {\n        className: \"activity--type\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(StatusIcon, {\n        className: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }), \"Cobrado\"))), React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"columns\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"table-card__container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(TableCardHeader, {\n        arrows: sort.sort_by,\n        handleArrows: this.handleArrow,\n        info: infoHeaders,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }), test.map(function (_ref) {\n        var title = _ref.title,\n            subtitle = _ref.subtitle,\n            date = _ref.date,\n            unit = _ref.unit,\n            activity = _ref.activity,\n            amount = _ref.amount;\n        return React.createElement(TableCardBody, {\n          title: title,\n          subtitle: subtitle,\n          column1: date,\n          column2: unit,\n          column3: activity,\n          column4: accounting.formatMoney(amount, '$ ', 2),\n          icon: true,\n          icon2: true,\n          hasArrowIcon: true,\n          positiveNumber: amount > 0,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265\n          },\n          __self: this\n        });\n      })))));\n    }\n  }]);\n\n  return Activity;\n}(Component);\n\nexport { Activity as default };","map":{"version":3,"sources":["/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/inventories/activity/index.js"],"names":["React","Component","Fragment","accounting","RadioOptions","Filter","RangeOption","moment","StatusIcon","TableCardBody","TableCardHeader","InventoriesActions","Activity","state","displayFilters","radioOptions","startRange","endRange","starQuantity","endQuantity","searchInfo","startDate","endDate","sort","sort_by","handleDisplayFilters","setState","handleArrow","header","event","initFilteroptions","value","handleRadio","checked","label","target","map","option","handleAmountRanges","range","handleQuantityRanges","test","handleSearchbar","clearRadioOptions","clearRanges","clearDate","clearAllFilters","loadData","params","Object","assign","props","location","query","getRecords","title","subtitle","date","unit","activity","amount","infoHeaders","id","hasIcon","filters","formatMoney"],"mappings":"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","sourcesContent":["// Libraries\nimport React, { Component, Fragment } from 'react'\nimport accounting from 'accounting'\n\n// Components\nimport RadioOptions from 'shared/filter/radioOptions.js'\nimport Filter from 'shared/filter'\nimport RangeOption from 'shared/filter/rangeOption.js'\nimport moment from 'moment'\nimport StatusIcon from 'shared/statusIcon'\nimport TableCardBody from 'shared/tableCard'\nimport TableCardHeader from 'shared/tableCardHeader'\n\n// Actions\nimport InventoriesActions from 'actions/inventories'\n\nexport default class Activity extends Component {\n  state = {\n    displayFilters: false,\n    radioOptions: [],\n    startRange: '',\n    endRange: '',\n    starQuantity: '',\n    endQuantity: '',\n    searchInfo: '',\n    startDate: moment(),\n    endDate: moment(),\n    sort: {\n      sort_by: 'header1'\n    }\n  }\n\n  componentDidMount () {\n    this.initFilteroptions()\n    this.loadData()\n  }\n\n  loadData () {\n    const params = Object.assign({}, this.props.location.query)\n\n    InventoriesActions.getRecords(params)\n  }\n  handleDisplayFilters = () => {\n    this.setState(state => ({ displayFilters: !state.displayFilters }))\n  }\n\n  handleArrow = header => event => {\n    let { sort } = this.state\n    sort = {\n      sort_by: header\n    }\n    this.setState({ sort })\n  }\n\n  initFilteroptions = () => {\n    const radioOptions = [\n      {\n        value: 'sells',\n        handleRadio: this.handleRadio,\n        checked: false,\n        label: 'Venta'\n      },\n      {\n        value: 'purchase',\n        handleRadio: this.handleRadio,\n        checked: false,\n        label: 'Compra'\n      },\n      {\n        value: 'all',\n        handleRadio: this.handleRadio,\n        checked: true,\n        label: 'Ambos'\n      }\n    ]\n    this.setState({ radioOptions: radioOptions })\n  }\n\n  handleRadio = event => {\n    const { value } = event.target\n    this.setState(state => {\n      const radioOptions = [...state.radioOptions]\n      radioOptions.map(option => {\n        return option.value === value\n          ? (option.checked = true)\n          : (option.checked = false)\n      })\n      return {\n        radioOptions: radioOptions\n      }\n    })\n  }\n\n  handleAmountRanges = range => event => {\n    const value =\n      typeof event === 'object' && event instanceof moment\n        ? event\n        : event.target.value\n    this.setState({ [range]: value })\n  }\n\n  handleQuantityRanges = test => event => {\n    const value =\n      typeof event === 'object' && event instanceof moment\n        ? event\n        : event.target.value\n    this.setState({ [test]: value })\n  }\n\n  handleSearchbar = event => {\n    const { value } = event.target\n    this.setState({ searchInfo: value })\n  }\n\n  clearRadioOptions = () => {\n    this.initFilteroptions()\n  }\n\n  clearRanges = () => {\n    this.setState({ startRange: '', endRange: '' })\n  }\n\n  clearDate = () => {\n    this.setState({ startDate: '', endDate: '' })\n  }\n\n  clearAllFilters = () => {\n    this.clearRadioOptions()\n    this.clearRanges()\n    this.clearDate()\n  }\n\n  render () {\n    const {\n      displayFilters,\n      radioOptions,\n      startRange,\n      endRange,\n      starQuantity,\n      endQuantity,\n      searchInfo,\n      sort,\n      startDate,\n      endDate\n    } = this.state\n\n    const test = [\n      {\n        title: 'Gorra de baseball roja y blanca',\n        subtitle: 'UUG-BB-PUR-07',\n        date: '16-SEP-18',\n        unit: 'Paquetes a granel',\n        activity: '22',\n        amount: 77000\n      },\n      {\n        title: 'Playera polo azul',\n        subtitle: 'UUG-BB-PUR-07',\n        date: '16-AGO-19',\n        unit: 'Pieza',\n        activity: '33',\n        amount: -50000.21\n      },\n      {\n        title: 'Nike shoes',\n        subtitle: 'UUG-BB-PUR-07',\n        date: '13-may-18',\n        unit: 'Paquetes a granel',\n        activity: '19',\n        amount: 12000\n      }\n    ]\n\n    const infoHeaders = [\n      {\n        id: 'header',\n        hasIcon: false\n      },\n      {\n        header: 'Fecha',\n        id: 'header1',\n        hasIcon: true\n      },\n      {\n        header: 'Unidad',\n        id: 'header2',\n        hasIcon: false\n      },\n      {\n        header: 'Actividad',\n        id: 'header3',\n        hasIcon: true\n      },\n      {\n        header: 'Monto',\n        id: 'header4',\n        hasIcon: true\n      }\n    ]\n\n    const filters = [\n      <RadioOptions\n        options={radioOptions}\n        mainLabel='Tipo de Actividad'\n        clear={this.clearRadioOptions}\n      />,\n      <RangeOption\n        mainLabel='Cantidad de Producto'\n        handleRanges={this.handleQuantityRanges}\n        startRange={starQuantity}\n        endRange={endQuantity}\n        clear={this.clearRanges}\n      />,\n      <RangeOption\n        mainLabel='Fecha'\n        handleRanges={this.handleAmountRanges}\n        startRange={startDate}\n        endRange={endDate}\n        clear={this.clearDate}\n      />,\n      <RangeOption\n        mainLabel='Monto'\n        handleRanges={this.handleAmountRanges}\n        startRange={startRange}\n        endRange={endRange}\n        clear={this.clearRanges}\n      />\n    ]\n    return (\n      <Fragment>\n        <Filter\n          displayFilters={displayFilters}\n          handleDisplayFilters={this.handleDisplayFilters}\n          filters={filters}\n          clearAll={this.clearAllFilters}\n          handleSearch={this.handleSearchbar}\n          searchValue={searchInfo}\n          totalRecords={3}\n          searchBarPlaceHolder={'Buscar por Nombre o SKU'}\n        />\n\n        <div className='flex-end activity--margin-top'>\n          <div className='caption'>\n            <span className='activity--type'>\n              <StatusIcon className='success' />\n              Ventas\n            </span>\n            <span className='activity--type'>\n              <StatusIcon className='info' />\n              Cobrado\n            </span>\n          </div>\n        </div>\n\n        <Fragment>\n          <div className='columns'>\n            <div className='table-card__container'>\n              <TableCardHeader\n                arrows={sort.sort_by}\n                handleArrows={this.handleArrow}\n                info={infoHeaders}\n              />\n\n              {test.map(({ title, subtitle, date, unit, activity, amount }) => (\n                <TableCardBody\n                  title={title}\n                  subtitle={subtitle}\n                  column1={date}\n                  column2={unit}\n                  column3={activity}\n                  column4={accounting.formatMoney(amount, '$ ', 2)}\n                  icon\n                  icon2\n                  hasArrowIcon\n                  positiveNumber={amount > 0}\n                />\n              ))}\n            </div>\n          </div>\n        </Fragment>\n      </Fragment>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}