{"ast":null,"code":"import _defineProperty from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/taxableEntities/associate/index.js\";\n// Libraries\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { browserHistory, Link } from 'react-router';\nimport update from 'immutability-helper';\nimport Button from 'shared/button'; // Catalogs\n\nimport { SAT_CATEGORIES } from 'shared/catalogs'; // Constants\n\nvar CATEGORY_CATALOG_START = 1;\nvar CATEGORY_ID_POSITION = 0;\nvar CATEGORY_LEVEL_POSITION = 1;\nvar CATEGORY_GROUPING_CODE_POSITION = 2;\nvar CATEGORY_NAME_POSITION = 3;\nvar CATEGORY_ANCESTRY_POSITION = 4;\nvar CATEGORY_LABEL_ID = 'id';\nvar CATEGORY_LABEL_LEVEL = 'level';\nvar CATEGORY_LABEL_GROUPING_CODE = 'grouping_code';\nvar CATEGORY_LABEL_NAME = 'name';\nvar CATEGORY_LABEL_ANCESTRY = 'ancestry';\n\nvar TaxableEntities =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TaxableEntities, _Component);\n\n  function TaxableEntities(props) {\n    var _this;\n\n    _classCallCheck(this, TaxableEntities);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TaxableEntities).call(this, props));\n    _this.data = {\n      entityId: _this.props.params.entityId,\n      categories: []\n    };\n    _this.state = Object.assign({}, _this.data);\n    return _this;\n  }\n\n  _createClass(TaxableEntities, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getCategories();\n    }\n  }, {\n    key: \"getCategories\",\n    value: function getCategories() {\n      var categories = [];\n\n      for (var i = CATEGORY_CATALOG_START; i < SAT_CATEGORIES.length; i++) {\n        var _categories$push;\n\n        categories.push((_categories$push = {\n          selected: false\n        }, _defineProperty(_categories$push, CATEGORY_LABEL_ID, SAT_CATEGORIES[i][CATEGORY_ID_POSITION]), _defineProperty(_categories$push, CATEGORY_LABEL_LEVEL, SAT_CATEGORIES[i][CATEGORY_LEVEL_POSITION]), _defineProperty(_categories$push, CATEGORY_LABEL_GROUPING_CODE, SAT_CATEGORIES[i][CATEGORY_GROUPING_CODE_POSITION]), _defineProperty(_categories$push, CATEGORY_LABEL_NAME, SAT_CATEGORIES[i][CATEGORY_NAME_POSITION]), _defineProperty(_categories$push, CATEGORY_LABEL_ANCESTRY, SAT_CATEGORIES[i][CATEGORY_ANCESTRY_POSITION] || ''), _categories$push));\n      }\n\n      this.setState({\n        categories: categories\n      });\n    }\n  }, {\n    key: \"renderNewButton\",\n    value: function renderNewButton(right) {\n      return React.createElement(\"div\", {\n        className: \"field is-grouped\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.sendData.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Guardar\")), React.createElement(\"span\", {\n        className: \"control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: '/admin/entidades_fiscales/',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Button, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Cancelar\"))));\n    }\n  }, {\n    key: \"sendData\",\n    value: function sendData() {\n      // Get selected categories\n      var selectedCategories = [];\n\n      for (var i = 0; i < this.state.categories.length; i++) {\n        if (this.state.categories[i].selected) {\n          selectedCategories.push(this.state.categories[i]);\n        }\n      } // Log'em\n\n\n      console.log(selectedCategories); // Return\n\n      browserHistory.push('/admin/entidades_fiscales');\n    }\n  }, {\n    key: \"toggleCategory\",\n    value: function toggleCategory(catId) {\n      var categoryPosition = 0; // Get TRUE position of category, currently maps to 1:1, 2:2, 3:3, ..., 123:123 (zero index)\n\n      for (var i = CATEGORY_CATALOG_START; i < this.state.categories.length; i++) {\n        if (catId === this.state.categories[i][CATEGORY_LABEL_ID]) {\n          categoryPosition = i;\n        }\n      }\n\n      this.setState({\n        categories: update(this.state.categories, _defineProperty({}, categoryPosition, {\n          selected: {\n            $set: !this.state.categories[categoryPosition].selected\n          }\n        }))\n      });\n    }\n  }, {\n    key: \"renderCategories\",\n    value: function renderCategories() {\n      var renderCategories = React.createElement(\"article\", {\n        className: \"message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"message-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"No hay categor\\xEDas.\"));\n\n      if (this.state.categories.length > 0) {\n        renderCategories = this.state.categories.map(function (category, index) {\n          return React.createElement(\"div\", {\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"field\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            className: \"control\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            className: \"checkbox\",\n            htmlFor: \"categories\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            id: \"categories\",\n            type: \"checkbox\",\n            onChange: this.toggleCategory.bind(this, category[CATEGORY_LABEL_ID]),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          }), category[CATEGORY_LABEL_GROUPING_CODE] + ' - ' + category[CATEGORY_LABEL_NAME]))));\n        }.bind(this));\n      }\n\n      return renderCategories;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"title is-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Asociar Rubros\"), this.renderCategories(), this.renderNewButton());\n    }\n  }]);\n\n  return TaxableEntities;\n}(Component);\n\nTaxableEntities.propTypes = {\n  params: PropTypes.shape({\n    entityId: PropTypes.string\n  })\n};\nexport default TaxableEntities;","map":{"version":3,"sources":["/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/taxableEntities/associate/index.js"],"names":["React","Component","PropTypes","browserHistory","Link","update","Button","SAT_CATEGORIES","CATEGORY_CATALOG_START","CATEGORY_ID_POSITION","CATEGORY_LEVEL_POSITION","CATEGORY_GROUPING_CODE_POSITION","CATEGORY_NAME_POSITION","CATEGORY_ANCESTRY_POSITION","CATEGORY_LABEL_ID","CATEGORY_LABEL_LEVEL","CATEGORY_LABEL_GROUPING_CODE","CATEGORY_LABEL_NAME","CATEGORY_LABEL_ANCESTRY","TaxableEntities","props","data","entityId","params","categories","state","Object","assign","getCategories","i","length","push","selected","setState","right","sendData","bind","selectedCategories","console","log","catId","categoryPosition","$set","renderCategories","map","category","index","toggleCategory","renderNewButton","propTypes","shape","string"],"mappings":"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","sourcesContent":["// Libraries\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { browserHistory, Link } from 'react-router'\nimport update from 'immutability-helper'\n\nimport Button from 'shared/button'\n\n// Catalogs\nimport { SAT_CATEGORIES } from 'shared/catalogs'\n\n// Constants\nconst CATEGORY_CATALOG_START = 1\nconst CATEGORY_ID_POSITION = 0\nconst CATEGORY_LEVEL_POSITION = 1\nconst CATEGORY_GROUPING_CODE_POSITION = 2\nconst CATEGORY_NAME_POSITION = 3\nconst CATEGORY_ANCESTRY_POSITION = 4\n\nconst CATEGORY_LABEL_ID = 'id'\nconst CATEGORY_LABEL_LEVEL = 'level'\nconst CATEGORY_LABEL_GROUPING_CODE = 'grouping_code'\nconst CATEGORY_LABEL_NAME = 'name'\nconst CATEGORY_LABEL_ANCESTRY = 'ancestry'\n\nclass TaxableEntities extends Component {\n  constructor (props) {\n    super(props)\n    this.data = {\n      entityId: this.props.params.entityId,\n      categories: []\n    }\n    this.state = Object.assign({}, this.data)\n  }\n\n  componentDidMount () {\n    this.getCategories()\n  }\n\n  getCategories () {\n    let categories = []\n    for (let i = CATEGORY_CATALOG_START; i < SAT_CATEGORIES.length; i++) {\n      categories.push({\n        selected: false,\n        [CATEGORY_LABEL_ID]: SAT_CATEGORIES[i][CATEGORY_ID_POSITION],\n        [CATEGORY_LABEL_LEVEL]: SAT_CATEGORIES[i][CATEGORY_LEVEL_POSITION],\n        [CATEGORY_LABEL_GROUPING_CODE]:\n          SAT_CATEGORIES[i][CATEGORY_GROUPING_CODE_POSITION],\n        [CATEGORY_LABEL_NAME]: SAT_CATEGORIES[i][CATEGORY_NAME_POSITION],\n        [CATEGORY_LABEL_ANCESTRY]:\n          SAT_CATEGORIES[i][CATEGORY_ANCESTRY_POSITION] || ''\n      })\n    }\n    this.setState({ categories: categories })\n  }\n\n  renderNewButton (right) {\n    return (\n      <div className='field is-grouped'>\n        <span className='control'>\n          <Button onClick={this.sendData.bind(this)}>Guardar</Button>\n        </span>\n        <span className='control'>\n          <Link to={'/admin/entidades_fiscales/'}>\n            <Button>Cancelar</Button>\n          </Link>\n        </span>\n      </div>\n    )\n  }\n\n  sendData () {\n    // Get selected categories\n    let selectedCategories = []\n    for (let i = 0; i < this.state.categories.length; i++) {\n      if (this.state.categories[i].selected) {\n        selectedCategories.push(this.state.categories[i])\n      }\n    }\n\n    // Log'em\n    console.log(selectedCategories)\n\n    // Return\n    browserHistory.push('/admin/entidades_fiscales')\n  }\n\n  toggleCategory (catId) {\n    let categoryPosition = 0\n    // Get TRUE position of category, currently maps to 1:1, 2:2, 3:3, ..., 123:123 (zero index)\n    for (\n      let i = CATEGORY_CATALOG_START;\n      i < this.state.categories.length;\n      i++\n    ) {\n      if (catId === this.state.categories[i][CATEGORY_LABEL_ID]) {\n        categoryPosition = i\n      }\n    }\n    this.setState({\n      categories: update(this.state.categories, {\n        [categoryPosition]: {\n          selected: { $set: !this.state.categories[categoryPosition].selected }\n        }\n      })\n    })\n  }\n\n  renderCategories () {\n    let renderCategories = (\n      <article className='message'>\n        <div className='message-body'>No hay categorías.</div>\n      </article>\n    )\n    if (this.state.categories.length > 0) {\n      renderCategories = this.state.categories.map(\n        function (category, index) {\n          return (\n            <div key={index}>\n              <div className='field'>\n                <p className='control'>\n                  <label className='checkbox' htmlFor='categories'>\n                    <input\n                      id='categories'\n                      type='checkbox'\n                      onChange={this.toggleCategory.bind(\n                        this,\n                        category[CATEGORY_LABEL_ID]\n                      )}\n                    />\n                    {category[CATEGORY_LABEL_GROUPING_CODE] +\n                      ' - ' +\n                      category[CATEGORY_LABEL_NAME]}\n                  </label>\n                </p>\n              </div>\n            </div>\n          )\n        }.bind(this)\n      )\n    }\n    return renderCategories\n  }\n\n  render () {\n    return (\n      <div>\n        <h1 className='title is-4'>Asociar Rubros</h1>\n        {this.renderCategories()}\n        {this.renderNewButton()}\n      </div>\n    )\n  }\n}\n\nTaxableEntities.propTypes = {\n  params: PropTypes.shape({\n    entityId: PropTypes.string\n  })\n}\n\nexport default TaxableEntities\n"]},"metadata":{},"sourceType":"module"}