{"ast":null,"code":"var XDomainTransport = function () {\n  function XDomainTransport(url) {\n    this.url = url;\n  }\n\n  XDomainTransport.prototype.send = function (data) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      var req = new XDomainRequest();\n      var rx = new RegExp(\"^https?:\");\n\n      req.onload = function () {\n        return resolve({});\n      };\n\n      req.open(\"POST\", _this.url.replace(rx, window.location.protocol));\n      setTimeout(function () {\n        try {\n          req.send(data);\n        } catch (e) {\n          reject(e);\n        }\n      }, 0);\n    });\n  };\n\n  return XDomainTransport;\n}();\n\nexport { XDomainTransport };","map":null,"metadata":{},"sourceType":"module"}