{"ast":null,"code":"import _defineProperty from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/usuario-rtd/Desktop/widget-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/newInvoice/complementos/ine/index.js\";\n// Libraries\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport update from 'immutability-helper'; // Components\n\nimport Button from 'shared/button';\nimport SelectField from 'shared/selectField';\nimport { removeEmpty } from 'utils'; // Children\n\nimport Ordinary from './ordinary';\nimport PreCampaign from './preCampaign';\nimport Campaign from './campaign'; // Constants\n\nvar PROCESS_KIND_ORDINARY = 'Ordinario';\nvar PROCESS_KIND_PRECAMPAIGN = 'Precampaña';\nvar PROCESS_KIND_CAMPAIGN = 'Campaña';\nvar PROCESS_KINDS = [{\n  id: PROCESS_KIND_ORDINARY,\n  label: PROCESS_KIND_ORDINARY\n}, {\n  id: PROCESS_KIND_PRECAMPAIGN,\n  label: PROCESS_KIND_PRECAMPAIGN\n}, {\n  id: PROCESS_KIND_CAMPAIGN,\n  label: PROCESS_KIND_CAMPAIGN\n}]; // Keys\n\nvar PROCESS_KIND_KEY = 'process_type';\nvar INE_KEY = 'ine_concept_mg';\nvar PROCESS_LOW_DATA_KEY = 'ine_entity_mgs';\n\nvar Ine =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Ine, _Component);\n\n  function Ine(props) {\n    var _this;\n\n    _classCallCheck(this, Ine);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Ine).call(this, props));\n    _this.data = _defineProperty({}, PROCESS_KIND_KEY, PROCESS_KINDS[0].id);\n    _this.state = Object.assign({}, _this.data);\n    return _this;\n  } // Set target value to this.state[field]\n\n\n  _createClass(Ine, [{\n    key: \"onChange\",\n    value: function onChange(field, e) {\n      this.setState(_defineProperty({}, field, update(this.state[field], {\n        $set: e.target.value\n      })));\n    } // Send data from INE to main invoice\n\n  }, {\n    key: \"validateAndExport\",\n    value: function validateAndExport() {\n      var _this$refs$process$ex = this.refs['process'].exportData(),\n          _this$refs$process$ex2 = _this$refs$process$ex.topData,\n          topData = _this$refs$process$ex2 === void 0 ? {} : _this$refs$process$ex2,\n          _this$refs$process$ex3 = _this$refs$process$ex.lowData,\n          lowData = _this$refs$process$ex3 === void 0 ? [] : _this$refs$process$ex3;\n\n      if (topData !== null && lowData !== null) {\n        var ine = _defineProperty({}, INE_KEY, Object.assign(_defineProperty({}, PROCESS_LOW_DATA_KEY, lowData), _defineProperty({}, PROCESS_KIND_KEY, this.state[PROCESS_KIND_KEY]), topData));\n\n        var cleanIne = Object.assign({}, ine);\n        cleanIne = removeEmpty(cleanIne);\n        return cleanIne;\n      } else {\n        return false;\n      }\n    } // Main render\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _processKinds,\n          _this2 = this;\n\n      var processKinds = (_processKinds = {}, _defineProperty(_processKinds, PROCESS_KIND_ORDINARY, React.createElement(Ordinary, {\n        ref: \"process\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      })), _defineProperty(_processKinds, PROCESS_KIND_PRECAMPAIGN, React.createElement(PreCampaign, {\n        ref: \"process\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })), _defineProperty(_processKinds, PROCESS_KIND_CAMPAIGN, React.createElement(Campaign, {\n        ref: \"process\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })), _processKinds);\n      return React.createElement(\"div\", {\n        className: \"espacio-large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"title\",\n        onClick: this.validateAndExport.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, this.props.title)), React.createElement(\"div\", {\n        className: \"columns is-multiline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"column is-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(SelectField, {\n        label: \"Tipo de Proceso\",\n        placeholder: \"Seleccione un tipo\",\n        options: PROCESS_KINDS,\n        value: this.state[PROCESS_KIND_KEY],\n        onChange: this.onChange.bind(this, PROCESS_KIND_KEY),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"column is-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, processKinds[this.state[PROCESS_KIND_KEY]])), React.createElement(Button, {\n        buttonStyle: \"dangerLink\",\n        onClick: function onClick() {\n          _this2.props.deleteAddOn(_this2.props.uuid);\n        },\n        icon: \"delete\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Eliminar Complemento\"));\n    }\n  }]);\n\n  return Ine;\n}(Component);\n\nIne.propTypes = {\n  title: PropTypes.string,\n  deleteAddOn: PropTypes.func,\n  uuid: PropTypes.string\n};\nexport default Ine;","map":{"version":3,"sources":["/Users/usuario-rtd/Desktop/widget-front/src/components/app/views/newInvoice/complementos/ine/index.js"],"names":["React","Component","PropTypes","update","Button","SelectField","removeEmpty","Ordinary","PreCampaign","Campaign","PROCESS_KIND_ORDINARY","PROCESS_KIND_PRECAMPAIGN","PROCESS_KIND_CAMPAIGN","PROCESS_KINDS","id","label","PROCESS_KIND_KEY","INE_KEY","PROCESS_LOW_DATA_KEY","Ine","props","data","state","Object","assign","field","e","setState","$set","target","value","refs","exportData","topData","lowData","ine","cleanIne","processKinds","validateAndExport","bind","title","onChange","deleteAddOn","uuid","propTypes","string","func"],"mappings":"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","sourcesContent":["// Libraries\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport update from 'immutability-helper'\n\n// Components\nimport Button from 'shared/button'\nimport SelectField from 'shared/selectField'\nimport { removeEmpty } from 'utils'\n\n// Children\nimport Ordinary from './ordinary'\nimport PreCampaign from './preCampaign'\nimport Campaign from './campaign'\n\n// Constants\nconst PROCESS_KIND_ORDINARY = 'Ordinario'\nconst PROCESS_KIND_PRECAMPAIGN = 'Precampaña'\nconst PROCESS_KIND_CAMPAIGN = 'Campaña'\n\nconst PROCESS_KINDS = [\n  { id: PROCESS_KIND_ORDINARY, label: PROCESS_KIND_ORDINARY },\n  { id: PROCESS_KIND_PRECAMPAIGN, label: PROCESS_KIND_PRECAMPAIGN },\n  { id: PROCESS_KIND_CAMPAIGN, label: PROCESS_KIND_CAMPAIGN }\n]\n\n// Keys\nconst PROCESS_KIND_KEY = 'process_type'\nconst INE_KEY = 'ine_concept_mg'\nconst PROCESS_LOW_DATA_KEY = 'ine_entity_mgs'\n\nclass Ine extends Component {\n  constructor (props) {\n    super(props)\n    this.data = {\n      [PROCESS_KIND_KEY]: PROCESS_KINDS[0].id\n    }\n    this.state = Object.assign({}, this.data)\n  }\n\n  // Set target value to this.state[field]\n  onChange (field, e) {\n    this.setState({\n      [field]: update(this.state[field], { $set: e.target.value })\n    })\n  }\n\n  // Send data from INE to main invoice\n  validateAndExport () {\n    let { topData = {}, lowData = [] } = this.refs['process'].exportData()\n    if (topData !== null && lowData !== null) {\n      let ine = {\n        [INE_KEY]: Object.assign(\n          { [PROCESS_LOW_DATA_KEY]: lowData },\n          { [PROCESS_KIND_KEY]: this.state[PROCESS_KIND_KEY] },\n          topData\n        )\n      }\n      let cleanIne = Object.assign({}, ine)\n      cleanIne = removeEmpty(cleanIne)\n      return cleanIne\n    } else {\n      return false\n    }\n  }\n\n  // Main render\n  render () {\n    let processKinds = {\n      [PROCESS_KIND_ORDINARY]: <Ordinary ref='process' />,\n      [PROCESS_KIND_PRECAMPAIGN]: <PreCampaign ref='process' />,\n      [PROCESS_KIND_CAMPAIGN]: <Campaign ref='process' />\n    }\n    return (\n      <div className='espacio-large'>\n        <p className='content'>\n          <span className='title' onClick={this.validateAndExport.bind(this)}>\n            {this.props.title}\n          </span>\n        </p>\n        <div className='columns is-multiline'>\n          <div className='column is-12'>\n            <SelectField\n              label='Tipo de Proceso'\n              placeholder='Seleccione un tipo'\n              options={PROCESS_KINDS}\n              value={this.state[PROCESS_KIND_KEY]}\n              onChange={this.onChange.bind(this, PROCESS_KIND_KEY)}\n            />\n          </div>\n          <div className='column is-12'>\n            {processKinds[this.state[PROCESS_KIND_KEY]]}\n          </div>\n        </div>\n        <Button\n          buttonStyle='dangerLink'\n          onClick={() => {\n            this.props.deleteAddOn(this.props.uuid)\n          }}\n          icon='delete'\n        >\n          Eliminar Complemento\n        </Button>\n      </div>\n    )\n  }\n}\n\nIne.propTypes = {\n  title: PropTypes.string,\n  deleteAddOn: PropTypes.func,\n  uuid: PropTypes.string\n}\n\nexport default Ine\n"]},"metadata":{},"sourceType":"module"}