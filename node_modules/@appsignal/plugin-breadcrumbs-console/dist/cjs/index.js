"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var SUPPORTED_CONSOLE_METHODS = ["log", "debug", "info", "warn", "error"];
function consoleBreadcrumbsPlugin(options) {
    var CONSOLE_LOG_METHODS = SUPPORTED_CONSOLE_METHODS.filter(function (method) {
        return typeof console !== "undefined" &&
            typeof console[method] === "function";
    });
    return function () {
        var self = this;
        CONSOLE_LOG_METHODS.forEach(function (method) {
            var prevHandler = console[method];
            function _console() {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                var breadcrumb = {
                    action: args.length > 1
                        ? "Console logged some values"
                        : "Console logged a value",
                    category: "console." + method,
                    metadata: {}
                };
                args.forEach(function (arg, i) {
                    return (breadcrumb.metadata["argument" + i] =
                        typeof arg === "string" ? arg : JSON.stringify(arg));
                });
                self.addBreadcrumb(breadcrumb);
                prevHandler.apply(console, args);
            }
            ;
            console[method] = _console;
        });
    };
}
exports.plugin = consoleBreadcrumbsPlugin;
//# sourceMappingURL=index.js.map